module.exports=[6074,a=>{"use strict";a.s(["API_ENDPOINTS",()=>b,"VALIDATION",()=>c,"getImageUrl",()=>d]);let b={AUTH:{LOGIN:"/auth/login",REGISTER:"/auth/register",LOGOUT:"/auth/logout",RESET_PASSWORD:"/auth/reset-password",CHANGE_PASSWORD:"/auth/change-password",STATS:"/auth/stats",USERS:"/auth/users"},EMPLOYEES:"/employees",EMPLOYEE_BY_ID:a=>`/employees/${a}`,EMPLOYEE_STATS:"/employees/stats",BADGES:"/badges",BADGE_BY_ID:a=>`/badges/${a}`,BADGE_STATS:"/badges/stats",PRINT_BADGE:a=>`/badges/${a}/print`,USERS:"/users",USER_PROFILE:"/users/me"},c={MIN_PASSWORD_LENGTH:8,PHONE_REGEX:/^(\+224\s?)?6\d{2}(\s?\d{2}){3}$/,EMAIL_REGEX:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,MATRICULE_REGEX:/.{3,}/},d=a=>{if(!a)return null;if(a.startsWith("http"))return a;let b=a.startsWith("/")?a.slice(1):a;return`http://192.168.100.171:4003/api/${b}`}},51533,a=>{"use strict";a.s(["authService",()=>j,"del",()=>h,"get",()=>e,"handleApiError",()=>i,"post",()=>f,"put",()=>g]);var b=a.i(6074);class c extends Error{status;message;data;constructor(a,b,c){super(b),this.status=a,this.message=b,this.data=c,this.name="ApiError"}getUserMessage(){switch(this.status){case 400:return`âŒ Erreur de validation: ${this.message}`;case 401:return"ðŸ”’ Session expirÃ©e. Veuillez vous reconnecter.";case 403:return"â›” AccÃ¨s refusÃ©. Vous n'avez pas les permissions nÃ©cessaires.";case 404:return`ðŸ” Ressource non trouv\xe9e: ${this.message}`;case 409:return`âš ï¸ Conflit: ${this.message}`;case 422:return`ðŸ“‹ Donn\xe9es invalides: ${this.message}`;case 500:return`ðŸ”¥ Erreur serveur: ${this.message}`;case 503:return"â¸ï¸ Service temporairement indisponible. RÃ©essayez plus tard.";default:return`âŒ ${this.message}`}}getDebugInfo(){return`[${this.status}] ${this.name}: ${this.message}
Data: ${JSON.stringify(this.data,null,2)}`}}async function d(a,b={}){try{console.log(`ðŸŒ API Request: ${b.method||"GET"} ${a}`);let d=new AbortController,e=setTimeout(()=>d.abort(),3e4);try{let f,g=await fetch(`http://192.168.100.171:4003/api${a}`,{...b,cache:"no-store",headers:{"Content-Type":"application/json",...b.headers},signal:d.signal});clearTimeout(e);try{f=await g.json()}catch(a){throw console.error("âŒ Erreur de parsing JSON:",a),new c(g.status,"RÃ©ponse du serveur invalide",{parseError:a,status:g.status})}if(!g.ok){let a=f.message||"Une erreur est survenue";f.errors&&Array.isArray(f.errors)&&(a=f.errors.map(a=>a.message||a).join(", "));let b=new c(g.status,a,f);throw console.error("âŒ API Error:",b.getDebugInfo()),b}console.log(`âœ… API Success: ${b.method||"GET"} ${a}`);let{success:h,...i}=f;return{success:h??!0,...i}}catch(a){if(clearTimeout(e),a instanceof Error&&"AbortError"===a.name){let a=new c(408,"La requÃªte a pris trop de temps (timeout aprÃ¨s 30 secondes)");throw console.error("â±ï¸ Timeout Error:",a.getDebugInfo()),a}throw a}}catch(b){if(b instanceof c)throw b;let a=new c(0,b instanceof Error?b.message:"Erreur de connexion au serveur");throw console.error("âŒ Network Error:",a.getDebugInfo()),a}}async function e(a,b){return d(a,{...b,method:"GET"})}async function f(a,b,c){return d(a,{...c,method:"POST",body:JSON.stringify(b)})}async function g(a,b,c){return d(a,{...c,method:"PUT",body:JSON.stringify(b)})}async function h(a,b){return d(a,{...b,method:"DELETE"})}function i(a){return a instanceof c?a.getUserMessage():a?.message||"Une erreur inattendue est survenue"}let j={login:async a=>f(b.API_ENDPOINTS.AUTH.LOGIN,a),register:async a=>f(b.API_ENDPOINTS.AUTH.REGISTER,a),logout:async()=>f(b.API_ENDPOINTS.AUTH.LOGOUT),changePassword:async a=>g(b.API_ENDPOINTS.AUTH.CHANGE_PASSWORD,a,{headers:{Authorization:"Bearer null"}})}},62969,a=>{"use strict";a.s(["ArrowLeft",()=>b],62969);let b=(0,a.i(16962).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37514,a=>{"use strict";a.s(["badgesService",()=>d]);var b=a.i(6074),c=a.i(51533);let d={async getAll(a){let d=new URLSearchParams;a?.page&&d.append("page",a.page),a?.limit&&d.append("limit",a.limit),a?.status&&"TOUS"!==a.status&&d.append("status",a.status),a?.type&&"TOUS"!==a.type&&d.append("type",a.type),a?.search&&d.append("search",a.search),a?.dateDemandeDe&&d.append("dateDemandeDe",a.dateDemandeDe),a?.dateDemandeA&&d.append("dateDemandeA",a.dateDemandeA),a?.dateImpressionDe&&d.append("dateImpressionDe",a.dateImpressionDe),a?.dateImpressionA&&d.append("dateImpressionA",a.dateImpressionA);let e=`${b.API_ENDPOINTS.BADGES}?${d.toString()}`;return(0,c.get)(e,{headers:{Authorization:"Bearer null"}})},getById:async a=>(0,c.get)(b.API_ENDPOINTS.BADGE_BY_ID(a),{headers:{Authorization:"Bearer null"}}),print:async a=>(0,c.post)(b.API_ENDPOINTS.PRINT_BADGE(a),{},{headers:{Authorization:"Bearer null"}}),verify:async a=>(console.log("ðŸ” Appel API verify avec qrCode:",a),(0,c.get)(`${b.API_ENDPOINTS.BADGES}/verify/${a}`)),getQRCode:async a=>(0,c.get)(`${b.API_ENDPOINTS.BADGES}/${a}/qr-code`,{headers:{Authorization:"Bearer null"}}),async downloadQRCode(a,b){try{let c=await this.getQRCode(a);if(!c.success||!c.data?.image)throw Error("Impossible de rÃ©cupÃ©rer le QR code");let d=c.data.image,e=document.createElement("a");e.href=d,e.download=`QRCode_${b.replace(/\s+/g,"_")}_${Date.now()}.png`,document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(a){throw console.error("Erreur tÃ©lÃ©chargement QR code:",a),a}},authorizeReprint:async a=>(0,c.post)(`${b.API_ENDPOINTS.BADGES}/${a}/authorize-reprint`,{},{headers:{Authorization:"Bearer null"}})}},86027,a=>{"use strict";a.s(["Printer",()=>b],86027);let b=(0,a.i(16962).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]])}];

//# sourceMappingURL=Desktop_rhmanagement_frontend_438b54ae._.js.map