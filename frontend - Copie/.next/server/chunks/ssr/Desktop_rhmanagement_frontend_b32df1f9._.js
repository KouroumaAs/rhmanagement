module.exports=[26232,a=>{"use strict";a.s(["Input",()=>d]);var b=a.i(76750),c=a.i(83757);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-[#ff8d13] selection:text-white dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","select-text cursor-text",a),style:{userSelect:"text",WebkitUserSelect:"text"},...e})}},65053,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(76750),c=a.i(83757);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}},6074,a=>{"use strict";a.s(["API_ENDPOINTS",()=>b,"VALIDATION",()=>c,"getImageUrl",()=>d]);let b={AUTH:{LOGIN:"/auth/login",REGISTER:"/auth/register",LOGOUT:"/auth/logout",RESET_PASSWORD:"/auth/reset-password",CHANGE_PASSWORD:"/auth/change-password",STATS:"/auth/stats",USERS:"/auth/users"},EMPLOYEES:"/employees",EMPLOYEE_BY_ID:a=>`/employees/${a}`,EMPLOYEE_STATS:"/employees/stats",BADGES:"/badges",BADGE_BY_ID:a=>`/badges/${a}`,BADGE_STATS:"/badges/stats",PRINT_BADGE:a=>`/badges/${a}/print`,USERS:"/users",USER_PROFILE:"/users/me"},c={MIN_PASSWORD_LENGTH:8,PHONE_REGEX:/^(\+224\s?)?6\d{2}(\s?\d{2}){3}$/,EMAIL_REGEX:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,MATRICULE_REGEX:/.{3,}/},d=a=>{if(!a)return null;if(a.startsWith("http"))return a;let b=a.startsWith("/")?a.slice(1):a;return`http://192.168.100.171:4003/api/${b}`}},51533,a=>{"use strict";a.s(["authService",()=>j,"del",()=>h,"get",()=>e,"handleApiError",()=>i,"post",()=>f,"put",()=>g]);var b=a.i(6074);class c extends Error{status;message;data;constructor(a,b,c){super(b),this.status=a,this.message=b,this.data=c,this.name="ApiError"}getUserMessage(){switch(this.status){case 400:return`‚ùå Erreur de validation: ${this.message}`;case 401:return"üîí Session expir√©e. Veuillez vous reconnecter.";case 403:return"‚õî Acc√®s refus√©. Vous n'avez pas les permissions n√©cessaires.";case 404:return`üîç Ressource non trouv\xe9e: ${this.message}`;case 409:return`‚ö†Ô∏è Conflit: ${this.message}`;case 422:return`üìã Donn\xe9es invalides: ${this.message}`;case 500:return`üî• Erreur serveur: ${this.message}`;case 503:return"‚è∏Ô∏è Service temporairement indisponible. R√©essayez plus tard.";default:return`‚ùå ${this.message}`}}getDebugInfo(){return`[${this.status}] ${this.name}: ${this.message}
Data: ${JSON.stringify(this.data,null,2)}`}}async function d(a,b={}){try{console.log(`üåê API Request: ${b.method||"GET"} ${a}`);let d=new AbortController,e=setTimeout(()=>d.abort(),3e4);try{let f,g=await fetch(`http://192.168.100.171:4003/api${a}`,{...b,cache:"no-store",headers:{"Content-Type":"application/json",...b.headers},signal:d.signal});clearTimeout(e);try{f=await g.json()}catch(a){throw console.error("‚ùå Erreur de parsing JSON:",a),new c(g.status,"R√©ponse du serveur invalide",{parseError:a,status:g.status})}if(!g.ok){let a=f.message||"Une erreur est survenue";f.errors&&Array.isArray(f.errors)&&(a=f.errors.map(a=>a.message||a).join(", "));let b=new c(g.status,a,f);throw console.error("‚ùå API Error:",b.getDebugInfo()),b}console.log(`‚úÖ API Success: ${b.method||"GET"} ${a}`);let{success:h,...i}=f;return{success:h??!0,...i}}catch(a){if(clearTimeout(e),a instanceof Error&&"AbortError"===a.name){let a=new c(408,"La requ√™te a pris trop de temps (timeout apr√®s 30 secondes)");throw console.error("‚è±Ô∏è Timeout Error:",a.getDebugInfo()),a}throw a}}catch(b){if(b instanceof c)throw b;let a=new c(0,b instanceof Error?b.message:"Erreur de connexion au serveur");throw console.error("‚ùå Network Error:",a.getDebugInfo()),a}}async function e(a,b){return d(a,{...b,method:"GET"})}async function f(a,b,c){return d(a,{...c,method:"POST",body:JSON.stringify(b)})}async function g(a,b,c){return d(a,{...c,method:"PUT",body:JSON.stringify(b)})}async function h(a,b){return d(a,{...b,method:"DELETE"})}function i(a){return a instanceof c?a.getUserMessage():a?.message||"Une erreur inattendue est survenue"}let j={login:async a=>f(b.API_ENDPOINTS.AUTH.LOGIN,a),register:async a=>f(b.API_ENDPOINTS.AUTH.REGISTER,a),logout:async()=>f(b.API_ENDPOINTS.AUTH.LOGOUT),changePassword:async a=>g(b.API_ENDPOINTS.AUTH.CHANGE_PASSWORD,a,{headers:{Authorization:"Bearer null"}})}},57561,a=>{"use strict";a.s(["QrCode",()=>b],57561);let b=(0,a.i(16962).default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]])},37514,a=>{"use strict";a.s(["badgesService",()=>d]);var b=a.i(6074),c=a.i(51533);let d={async getAll(a){let d=new URLSearchParams;a?.page&&d.append("page",a.page),a?.limit&&d.append("limit",a.limit),a?.status&&"TOUS"!==a.status&&d.append("status",a.status),a?.type&&"TOUS"!==a.type&&d.append("type",a.type),a?.search&&d.append("search",a.search),a?.dateDemandeDe&&d.append("dateDemandeDe",a.dateDemandeDe),a?.dateDemandeA&&d.append("dateDemandeA",a.dateDemandeA),a?.dateImpressionDe&&d.append("dateImpressionDe",a.dateImpressionDe),a?.dateImpressionA&&d.append("dateImpressionA",a.dateImpressionA);let e=`${b.API_ENDPOINTS.BADGES}?${d.toString()}`;return(0,c.get)(e,{headers:{Authorization:"Bearer null"}})},getById:async a=>(0,c.get)(b.API_ENDPOINTS.BADGE_BY_ID(a),{headers:{Authorization:"Bearer null"}}),print:async a=>(0,c.post)(b.API_ENDPOINTS.PRINT_BADGE(a),{},{headers:{Authorization:"Bearer null"}}),verify:async a=>(console.log("üîç Appel API verify avec qrCode:",a),(0,c.get)(`${b.API_ENDPOINTS.BADGES}/verify/${a}`)),getQRCode:async a=>(0,c.get)(`${b.API_ENDPOINTS.BADGES}/${a}/qr-code`,{headers:{Authorization:"Bearer null"}}),async downloadQRCode(a,b){try{let c=await this.getQRCode(a);if(!c.success||!c.data?.image)throw Error("Impossible de r√©cup√©rer le QR code");let d=c.data.image,e=document.createElement("a");e.href=d,e.download=`QRCode_${b.replace(/\s+/g,"_")}_${Date.now()}.png`,document.body.appendChild(e),e.click(),document.body.removeChild(e)}catch(a){throw console.error("Erreur t√©l√©chargement QR code:",a),a}},authorizeReprint:async a=>(0,c.post)(`${b.API_ENDPOINTS.BADGES}/${a}/authorize-reprint`,{},{headers:{Authorization:"Bearer null"}})}},64773,a=>{"use strict";a.s(["Search",()=>b],64773);let b=(0,a.i(16962).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},26207,a=>{"use strict";a.s(["XCircle",()=>b],26207);let b=(0,a.i(16962).default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},66946,a=>{"use strict";a.s(["default",()=>m]);var b=a.i(76750),c=a.i(57167),d=a.i(3314),e=a.i(66830),f=a.i(26232),g=a.i(65053),h=a.i(57561),i=a.i(26207),j=a.i(64773),k=a.i(37514);function l(){let a=(0,d.useSearchParams)(),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(!1);(0,c.useEffect)(()=>{u(!0)},[]),(0,c.useEffect)(()=>{if(!t)return;let b=a.get("qr");b&&(m(b),setTimeout(()=>{v(b)},500))},[a,t]);let v=async a=>{try{o(!0),s(""),q(null),console.log("üîç [Frontend] Appel verify avec code:",a);let b=await k.badgesService.verify(a);console.log("üì• [Frontend] R√©ponse re√ßue:",JSON.stringify(b,null,2)),console.log("üì• [Frontend] response.data:",b.data),console.log("üì• [Frontend] response.data?.employee:",b.data?.employee),q(b)}catch(a){console.error("‚ùå [Frontend] Erreur verify:",a),s(a.message||"Code QR invalide ou non trouv√©")}finally{o(!1)}},w=async()=>{if(!l.trim())return void s("Veuillez entrer un code QR");await v(l)},x=p&&p.employee?{icon:h.QrCode,color:"text-[#ff8d13]",bgColor:"bg-orange-50",borderColor:"border-orange-200"}:null;return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50 py-12 px-4",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] rounded-3xl flex items-center justify-center shadow-2xl shadow-[#ff8d13]/30 mx-auto",children:(0,b.jsx)(h.QrCode,{className:"w-10 h-10 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] bg-clip-text text-transparent",children:"V√©rification de Badge"}),(0,b.jsx)("p",{className:"text-gray-600 mt-2",children:"Scannez ou entrez le code QR pour v√©rifier le statut du badge"})]})]}),(0,b.jsxs)(g.Card,{className:"shadow-2xl border-0 bg-white",children:[(0,b.jsxs)(g.CardHeader,{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b border-orange-100",children:[(0,b.jsx)(g.CardTitle,{className:"text-xl font-bold text-gray-900",children:"Entrez le Code QR"}),(0,b.jsx)(g.CardDescription,{children:"Le code QR se trouve au format QR-XXXX-XXXXXX"})]}),(0,b.jsxs)(g.CardContent,{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(f.Input,{placeholder:"Ex: QR-2025-ABC123",value:l,onChange:a=>{m(a.target.value),s("")},onKeyPress:a=>"Enter"===a.key&&w(),className:"h-12 text-lg border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"}),(0,b.jsx)(e.Button,{onClick:w,disabled:n,className:"h-12 px-8 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13] shadow-lg",children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"V√©rification..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Search,{className:"w-5 h-5 mr-2"}),"V√©rifier"]})})]}),r&&(0,b.jsxs)("div",{className:"p-4 bg-red-50 border-2 border-red-200 rounded-xl flex items-start gap-3",children:[(0,b.jsx)(i.XCircle,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-red-800 text-sm font-medium",children:r})]})]})]}),p&&x&&(0,b.jsx)(g.Card,{className:`shadow-2xl border-2 ${x.borderColor} ${x.bgColor}`,children:(0,b.jsxs)(g.CardContent,{className:"p-8 space-y-6",children:[p.employee&&(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Matricule"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:p.employee.matricule})]})})}),p&&!p.employee&&(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(i.XCircle,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-xl font-semibold text-gray-900",children:"Matricule non trouv√©"})]})]})})]})})}function m(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-[#ff8d13] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})}),children:(0,b.jsx)(l,{})})}}];

//# sourceMappingURL=Desktop_rhmanagement_frontend_b32df1f9._.js.map