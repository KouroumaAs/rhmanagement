module.exports=[67624,a=>{"use strict";a.s(["default",()=>x],67624);var b=a.i(76750),c=a.i(57167),d=a.i(66830),e=a.i(65053),f=a.i(36477),g=a.i(53933),h=a.i(10066),i=a.i(26213),j=a.i(16962);let k=(0,j.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var l=a.i(47369),m=a.i(24736),n=a.i(86027);let o=(0,j.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var p=a.i(10958),q=a.i(77189),r=a.i(27862),s=a.i(6146),t=a.i(72579),u=a.i(32555),v=a.i(1875),w=a.i(91664);function x(){console.log("üéØ DashboardRH component loaded");let[a,j]=(0,c.useState)(!0),{logout:x,user:y}=(0,w.useAuth)();console.log("üë§ User from context:",y);let[z,A]=(0,c.useState)({totalEmployees:0,activeEmployees:0,personnelsDSD:0,demarcheurs:0,badgesEnAttente:0,contractsExpiring:0,totalUsers:0,activeUsers:0,inactiveUsers:0}),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)([]),{toast:F}=(0,v.useToast)();(0,c.useEffect)(()=>{console.log("üìä useEffect - Starting to fetch dashboard data"),G()},[]);let G=async()=>{console.log("üîÑ fetchDashboardData called");try{j(!0),console.log("‚è≥ isLoading set to true");let a=await u.dashboardService.getStats();console.log("‚úÖ getStats response:",a);let b=a.data;console.log("Dashboard data:",b),console.log("Users data:",b.users),console.log("Recent users:",b.users?.recent);let c=b.employees?.byType||[],d=c.find(a=>"PERSONNELS_DSD"===a._id)?.count||0,e=c.find(a=>"DEMARCHEURS"===a._id)?.count||0;A({totalEmployees:b.employees?.total||0,activeEmployees:b.employees?.active||0,personnelsDSD:d,demarcheurs:e,badgesEnAttente:b.badges?.enAttente||0,contractsExpiring:0,totalUsers:b.users?.total||0,activeUsers:b.users?.active||0,inactiveUsers:b.users?.inactive||0}),C((b.employees?.recent||[]).slice(0,2)),E((b.users?.recent||[]).slice(0,2))}catch(a){console.error("‚ùå Erreur chargement dashboard:",a),console.error("‚ùå Error details:",a.message,a.stack),F({variant:"destructive",title:"Erreur",description:a.message||"Impossible de charger les donn√©es du dashboard"})}finally{console.log("‚úîÔ∏è Finally block - setting isLoading to false"),j(!1)}},H=[{title:"Total Employ√©s",value:z.totalEmployees.toString(),change:`${z.activeEmployees} actifs`,icon:h.Users,color:"text-[#ff8d13]",bgColor:"bg-[#ff8d13]/10"},{title:"Personnels DSD",value:z.personnelsDSD.toString(),change:`${(z.personnelsDSD/z.totalEmployees*100||0).toFixed(0)}% du total`,icon:i.Building2,color:"text-blue-600",bgColor:"bg-blue-600/10"},{title:"D√©marcheurs",value:z.demarcheurs.toString(),change:`${(z.demarcheurs/z.totalEmployees*100||0).toFixed(0)}% du total`,icon:k,color:"text-amber-600",bgColor:"bg-amber-600/10"},{title:"Badges en Attente",value:z.badgesEnAttente.toString(),change:"√Ä imprimer",icon:l.Clock,color:"text-orange-500",bgColor:"bg-orange-500/10"}];return(console.log("üé® Rendering - isLoading:",a),a)?(console.log("‚è≥ Rendering loading screen"),(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-orange-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Chargement du dashboard..."})]})})):(console.log("‚úÖ Rendering dashboard content"),(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:[(0,b.jsx)("header",{className:"border-b border-[#fff5ed] bg-white/80 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:(0,b.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(t.default,{href:"/dashboard/rh",children:(0,b.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] rounded-2xl flex items-center justify-center shadow-lg shadow-[#ff8d13]/30 cursor-pointer hover:shadow-xl transition-all",children:(0,b.jsx)(i.Building2,{className:"w-6 h-6 text-white"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] bg-clip-text text-transparent",children:"Dashboard RH"}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Gestion des ressources humaines"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(t.default,{href:"/dashboard/rh/employees",children:(0,b.jsxs)(d.Button,{variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:[(0,b.jsx)(h.Users,{className:"w-4 h-4 mr-2"}),"Employ√©s"]})}),y?.role==="ADMIN"&&(0,b.jsx)(t.default,{href:"/dashboard/impression",children:(0,b.jsxs)(d.Button,{variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:[(0,b.jsx)(n.Printer,{className:"w-4 h-4 mr-2"}),"Impression"]})}),(0,b.jsxs)(d.Button,{variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50",onClick:x,children:[(0,b.jsx)(p.LogOut,{className:"w-4 h-4 mr-2"}),"D√©connexion"]})]})]})})}),(0,b.jsxs)("main",{className:"container mx-auto px-6 py-8 space-y-8",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:H.map((a,c)=>(0,b.jsx)(e.Card,{className:"hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-0 shadow-lg bg-white/80 backdrop-blur-sm overflow-hidden group",children:(0,b.jsxs)(e.CardContent,{className:"p-6 relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-50/50 to-amber-50/50 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-600",children:a.title}),(0,b.jsx)("p",{className:"text-4xl font-bold bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] bg-clip-text text-transparent",children:a.value}),(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:a.change})]}),(0,b.jsx)("div",{className:`${a.bgColor} p-4 rounded-2xl shadow-lg`,children:(0,b.jsx)(a.icon,{className:`w-8 h-8 ${a.color}`})})]})]})},c))}),(0,b.jsxs)(e.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[(0,b.jsx)(e.CardHeader,{className:"border-b border-[#fff5ed] bg-gradient-to-r from-orange-50/50 to-amber-50/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-2xl font-bold text-gray-900",children:"Employ√©s R√©cents"}),(0,b.jsx)(e.CardDescription,{className:"text-gray-600",children:"Les derniers enregistrements effectu√©s"})]}),(0,b.jsx)(t.default,{href:"/dashboard/rh/employees",children:(0,b.jsx)(d.Button,{variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:"Voir tout"})})]})}),(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsx)("div",{className:"space-y-3",children:0===B.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(h.Users,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),(0,b.jsx)("p",{className:"text-gray-500 font-medium",children:"Aucun employ√© enregistr√©"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Commencez par ajouter votre premier employ√©"})]}):B.map(a=>{var c;return(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border border-[#fff5ed] bg-white hover:shadow-md hover:border-[#fed7aa] transition-all duration-200 group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.Avatar,{className:"w-14 h-14 ring-2 ring-orange-100 group-hover:ring-orange-300 transition-all",children:(0,b.jsxs)(g.AvatarFallback,{className:"bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] text-white font-bold text-lg",children:[a.prenom?.[0],a.nom?.[0]]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-bold text-gray-900",children:[a.prenom," ",a.nom]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.telephone})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(c=a.type,(0,b.jsx)(f.Badge,{className:`${{PERSONNELS_DSD:"bg-[#ff8d13]",DNTT:"bg-blue-600",STAGIAIRES_DSD:"bg-green-600",BANQUES:"bg-purple-600",MAISONS_PLAQUE:"bg-pink-600",DNTT_STAGIAIRES:"bg-teal-600",DEMARCHEURS:"bg-amber-600"}[c]||"bg-gray-600"} text-white font-semibold`,children:{PERSONNELS_DSD:"Personnels DSD",DNTT:"DNTT",STAGIAIRES_DSD:"Stagiaires DSD",BANQUES:"Banques",MAISONS_PLAQUE:"Maisons de Plaque",DNTT_STAGIAIRES:"DNTT Stagiaires",DEMARCHEURS:"D√©marcheurs"}[c]||c})),(a=>{let c={ACTIF:{label:"Actif",className:"bg-green-500 text-white font-semibold"},EN_ATTENTE:{label:"En attente",className:"bg-orange-500 text-white font-semibold"},INACTIF:{label:"Inactif",className:"bg-gray-500 text-white font-semibold"}},d=c[a]||c.INACTIF;return(0,b.jsx)(f.Badge,{className:d.className,children:d.label})})(a.status),(0,b.jsx)("p",{className:"text-sm text-gray-500 w-24 text-right font-medium",children:new Date(a.createdAt).toLocaleDateString("fr-FR")})]})]},a.id)})})})]}),y?.role==="ADMIN"&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)(e.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[(0,b.jsx)(e.CardHeader,{className:"border-b border-green-100 bg-gradient-to-r from-green-50/50 to-emerald-50/50",children:(0,b.jsxs)(e.CardTitle,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(r.UserCheck,{className:"w-5 h-5 text-green-600"}),"Utilisateurs Actifs"]})}),(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-5xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:z.activeUsers}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Connect√©s r√©cemment"})]})})]}),(0,b.jsxs)(e.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[(0,b.jsx)(e.CardHeader,{className:"border-b border-gray-100 bg-gradient-to-r from-gray-50/50 to-slate-50/50",children:(0,b.jsxs)(e.CardTitle,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(s.UserX,{className:"w-5 h-5 text-gray-600"}),"Utilisateurs Inactifs"]})}),(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-5xl font-bold bg-gradient-to-r from-gray-600 to-slate-600 bg-clip-text text-transparent",children:z.inactiveUsers}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Non connect√©s"})]})})]}),(0,b.jsxs)(e.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[(0,b.jsx)(e.CardHeader,{className:"border-b border-blue-100 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:(0,b.jsxs)(e.CardTitle,{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,b.jsx)(q.Activity,{className:"w-5 h-5 text-blue-600"}),"Total Utilisateurs"]})}),(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-5xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:z.totalUsers}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Dans le syst√®me"})]})})]})]}),(0,b.jsxs)(e.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:[(0,b.jsx)(e.CardHeader,{className:"border-b border-[#fff5ed] bg-gradient-to-r from-orange-50/50 to-amber-50/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{className:"text-2xl font-bold text-gray-900",children:"Utilisateurs R√©cents"}),(0,b.jsx)(e.CardDescription,{className:"text-gray-600",children:"Les 2 derniers utilisateurs actifs"})]}),(0,b.jsx)(d.Button,{variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed]",onClick:()=>window.location.href="/dashboard/rh/users",children:"Voir tout"})]})}),(0,b.jsx)(e.CardContent,{className:"p-6",children:(0,b.jsx)("div",{className:"space-y-3",children:0===D.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(h.Users,{className:"w-12 h-12 mx-auto text-gray-300 mb-3"}),(0,b.jsx)("p",{className:"text-gray-500 font-medium",children:"Aucun utilisateur"})]}):D.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl border border-[#fff5ed] bg-white hover:shadow-md hover:border-[#fed7aa] transition-all duration-200 group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.Avatar,{className:"w-14 h-14 ring-2 ring-orange-100 group-hover:ring-orange-300 transition-all",children:(0,b.jsxs)(g.AvatarFallback,{className:"bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] text-white font-bold text-lg",children:[a.prenom?.[0],a.nom?.[0]]})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-bold text-gray-900",children:[a.prenom," ",a.nom]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(f.Badge,{className:a.isActive?"bg-green-600 text-white":"bg-gray-500 text-white",children:a.isActive?"Actif":"Inactif"}),(0,b.jsx)(f.Badge,{className:"bg-[#ff8d13] text-white font-semibold",children:a.role}),a.lastLogin&&(0,b.jsx)("p",{className:"text-sm text-gray-500 w-24 text-right font-medium",children:new Date(a.lastLogin).toLocaleDateString("fr-FR")})]})]},a.id))})})]})]}),(0,b.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 ${y?.role==="ADMIN"?"lg:grid-cols-4":"lg:grid-cols-3"} gap-6`,children:[(0,b.jsx)(t.default,{href:"/dashboard/rh/employees",children:(0,b.jsx)(e.Card,{className:"hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] text-white cursor-pointer group overflow-hidden",children:(0,b.jsxs)(e.CardHeader,{className:"relative z-10",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-3 relative z-10 text-xl",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,b.jsx)(h.Users,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold",children:"G√©rer les Employ√©s"}),(0,b.jsx)("p",{className:"text-sm font-normal text-white/90 mt-1",children:"Voir et modifier la liste compl√®te"})]})]})]})})}),y?.role==="ADMIN"&&(0,b.jsx)(t.default,{href:"/dashboard/impression",children:(0,b.jsx)(e.Card,{className:"hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-amber-500 to-yellow-600 text-white cursor-pointer group overflow-hidden",children:(0,b.jsxs)(e.CardHeader,{className:"relative z-10",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-3 relative z-10 text-xl",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,b.jsx)(l.Clock,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold",children:"Badges en Attente"}),(0,b.jsxs)("p",{className:"text-sm font-normal text-white/90 mt-1",children:[z.badgesEnAttente," √† imprimer"]})]})]})]})})}),(0,b.jsx)(t.default,{href:"/dashboard/rh/employees",children:(0,b.jsx)(e.Card,{className:"hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-red-500 to-rose-600 text-white cursor-pointer group overflow-hidden",children:(0,b.jsxs)(e.CardHeader,{className:"relative z-10",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-3 relative z-10 text-xl",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,b.jsx)(m.AlertCircle,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold",children:"Contrats Expir√©s"}),(0,b.jsx)("p",{className:"text-sm font-normal text-white/90 mt-1",children:"0 contrats √† renouveler"})]})]})]})})}),(0,b.jsx)(t.default,{href:"/change-password",children:(0,b.jsx)(e.Card,{className:"hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-0 shadow-lg bg-gradient-to-br from-blue-500 to-indigo-600 text-white cursor-pointer group overflow-hidden",children:(0,b.jsxs)(e.CardHeader,{className:"relative z-10",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-white/10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsxs)(e.CardTitle,{className:"flex items-center gap-3 relative z-10 text-xl",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:(0,b.jsx)(o,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold",children:"Param√®tres"}),(0,b.jsx)("p",{className:"text-sm font-normal text-white/90 mt-1",children:"Modifier mot de passe"})]})]})]})})})]})]})]}))}}];

//# sourceMappingURL=Desktop_rhmanagement_frontend_app_dashboard_rh_page_tsx_e1bda734._.js.map