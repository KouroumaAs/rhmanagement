module.exports=[4191,a=>{"use strict";a.s(["default",()=>M],4191);var b=a.i(76750),c=a.i(57167),d=a.i(66830),e=a.i(26232),f=a.i(65053),g=a.i(36477),h=a.i(53933),i=a.i(6074),j=a.i(59048),k=a.i(75069),l=a.i(64773),m=a.i(45358),n=a.i(26213),o=a.i(16962);let p=(0,o.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var q=a.i(89594),r=a.i(41771),s=a.i(52173),t=a.i(86420);let u=(0,o.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),v=(0,o.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var w=a.i(81412);let x=(0,o.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var y=a.i(59796),z=a.i(84889),A=a.i(26207),B=a.i(84476),C=a.i(6059),D=a.i(80541),E=a.i(83757);function F({className:a,...c}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,E.cn)("placeholder:text-muted-foreground selection:bg-[#ff8d13] selection:text-white dark:bg-input/30 border-input w-full min-w-0 rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","select-text cursor-text resize-y",a),style:{userSelect:"text",WebkitUserSelect:"text"},...c})}var G=a.i(72579),H=a.i(1875),I=a.i(3046),J=a.i(37514),K=a.i(3082),L=a.i(91664);function M(){let{user:a}=(0,L.useAuth)(),[o,E]=(0,c.useState)(""),[M,N]=(0,c.useState)("TOUS"),[O,P]=(0,c.useState)("TOUS"),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(""),[U,V]=(0,c.useState)(""),[W,X]=(0,c.useState)(""),[Y,Z]=(0,c.useState)([]),[$,_]=(0,c.useState)(!0),[aa,ab]=(0,c.useState)(1),[ac,ad]=(0,c.useState)(1),[ae,af]=(0,c.useState)(0),[ag,ah]=(0,c.useState)(10),[ai,aj]=(0,c.useState)([]),[ak,al]=(0,c.useState)(!1),[am,an]=(0,c.useState)({employeeId:"",motif:"",dateFinSuspension:""}),{toast:ao}=(0,H.useToast)();(0,c.useEffect)(()=>{ar()},[M,O,o,aa,ag,U,W,Q,S]),console.log("Les employees:",Y),(0,c.useEffect)(()=>{aj([])},[aa,ag,M,O,o,U,W,Q,S]);let ap=(0,c.useMemo)(()=>new Date,[]),aq=(0,c.useMemo)(()=>a=>{if(!a)return"N/A";try{let b=new Date(a);if(isNaN(b.getTime()))return"N/A";return b.toLocaleDateString("fr-FR")}catch{return"N/A"}},[]),ar=async()=>{try{_(!0);let a={page:aa.toString(),limit:ag.toString()};"TOUS"!==M&&(a.type=M),"TOUS"!==O&&(a.status=O),o&&(a.search=o),U&&(a.dateFinContratDe=U),W&&(a.dateFinContratA=W),Q&&(a.profil=Q),S&&(a.diplome=S);let b=await I.employeeService.getAll(a);K.logger.log("üì• Response compl√®te:",b);let c=b.data||[];K.logger.log("üë• Employees:",c),Z(c),ad(b.pagination?.pages||1),af(b.pagination?.total||0)}catch(a){ao({variant:"destructive",title:"Erreur",description:a.getUserMessage?.()||a.message||"Impossible de charger les employ√©s"})}finally{_(!1)}},as=async a=>{if(!a||"undefined"===a)return void ao({variant:"destructive",title:"Erreur",description:"ID de l'employ√© invalide"});let b=Y.find(b=>b.id===a);try{await I.employeeService.transferToPrint(a);let c=Y.map(b=>b.id===a?{...b,hasBadge:!0,badgeStatus:"EN_ATTENTE"}:b);Z(c),ao({title:"‚úÖ Transfert r√©ussi",description:`${b?.prenom} ${b?.nom} a \xe9t\xe9 transf\xe9r\xe9 au service d'impression`})}catch(a){ao({variant:"destructive",title:"Erreur de transfert",description:a.getUserMessage?.()||a.message||"Impossible de transf√©rer l'employ√©"})}},at=async a=>{if(!a.badgeId)return void ao({variant:"destructive",title:"Erreur",description:"Badge introuvable pour cet employ√©"});try{await J.badgesService.authorizeReprint(a.badgeId);let b=Y.map(b=>b.id===a.id?{...b,badgeStatus:"REIMPRESSION"}:b);Z(b),ao({title:"‚úÖ R√©impression autoris√©e",description:`Le badge de ${a.prenom} ${a.nom} a \xe9t\xe9 renvoy\xe9 pour r\xe9impression`})}catch(a){ao({variant:"destructive",title:"‚ùå Erreur",description:a.message||"Impossible d'autoriser la r√©impression"})}},au=async a=>{let b=Y.find(b=>b.id===a);if(confirm(`‚ö†Ô∏è ATTENTION ‚ö†Ô∏è

Vous \xeates sur le point de supprimer d\xe9finitivement l'employ\xe9 :

üë§ ${b?.prenom} ${b?.nom}
üìã Matricule: ${b?.matricule}
üíº Fonction: ${b?.fonction}

Cette action est IRR\xc9VERSIBLE et supprimera :
‚úó Toutes les informations de l'employ\xe9
‚úó Le badge associ\xe9 s'il existe
‚úó L'historique complet
‚úó Impossibilit\xe9 de r\xe9cup\xe9ration

\xcates-vous absolument s\xfbr de vouloir continuer ?`))try{await I.employeeService.delete(a);let c=Y.filter(b=>b.id!==a);Z(c),af(a=>a-1);let d=Math.ceil((ae-1)/ag);aa>d&&d>0?ab(d):0===c.length&&aa>1&&ab(a=>a-1),ao({title:"üóëÔ∏è Employ√© supprim√©",description:`${b?.prenom} ${b?.nom} a \xe9t\xe9 supprim\xe9 d\xe9finitivement du syst\xe8me`})}catch(a){ao({variant:"destructive",title:"‚ùå Erreur de suppression",description:a.message||"Impossible de supprimer l'employ√©"})}},av=async(a,b)=>{let c=Y.find(b=>b.id===a);if(!c)return;if("SUSPENDU"===b){an({employeeId:a,motif:"",dateFinSuspension:""}),al(!0);return}let d={ACTIF:"Actif",SUSPENDU:"Suspendu",TERMINE:"Termin√©"};if(confirm(`Voulez-vous changer le statut de ${c.prenom} ${c.nom} en "${d[b]}" ?`))try{await I.employeeService.updateStatus(a,b);let e=Y.map(c=>c.id===a?{...c,status:b,motifSuspension:null,dateFinSuspension:null}:c);Z(e),ao({title:"‚úÖ Statut modifi√©",description:`Le statut de ${c.prenom} ${c.nom} a \xe9t\xe9 chang\xe9 en "${d[b]}"`})}catch(a){ao({variant:"destructive",title:"‚ùå Erreur",description:a.message||"Impossible de modifier le statut"})}},aw=async()=>{let a=Y.find(a=>a.id===am.employeeId);if(!a)return;if(!am.motif.trim())return void ao({variant:"destructive",title:"‚ùå Erreur",description:"Le motif de suspension est obligatoire"});if(!am.dateFinSuspension)return void ao({variant:"destructive",title:"‚ùå Erreur",description:"La date de fin de suspension est obligatoire"});let b=new Date(am.dateFinSuspension),c=new Date;if(c.setHours(0,0,0,0),b.setHours(0,0,0,0),b<=c)return void ao({variant:"destructive",title:"‚ö†Ô∏è Date invalide",description:"Vous ne pouvez pas saisir une date ant√©rieure ou √©gale √† aujourd'hui. La date de fin de suspension doit √™tre dans le futur.",duration:5e3});try{await I.employeeService.updateStatus(am.employeeId,"SUSPENDU",{motifSuspension:am.motif,dateFinSuspension:am.dateFinSuspension});let b=Y.map(a=>a.id===am.employeeId?{...a,status:"SUSPENDU",motifSuspension:am.motif,dateFinSuspension:am.dateFinSuspension}:a);Z(b),ao({title:"‚úÖ Employ√© suspendu",description:`${a.prenom} ${a.nom} a \xe9t\xe9 suspendu jusqu'au ${new Date(am.dateFinSuspension).toLocaleDateString("fr-FR")}`}),al(!1),an({employeeId:"",motif:"",dateFinSuspension:""})}catch(a){ao({variant:"destructive",title:"‚ùå Erreur",description:a.message||"Impossible de suspendre l'employ√©"})}},ax=(0,c.useMemo)(()=>a=>{if(!a)return!1;let b=new Date(a);return!isNaN(b.getTime())&&ap>b},[ap]),ay=(0,c.useMemo)(()=>a=>{if(!a)return{diffDays:0,daysRemaining:0};let b=new Date(a);if(isNaN(b.getTime()))return{diffDays:0,daysRemaining:0};let c=Math.ceil((ap.getTime()-b.getTime())/864e5);return{diffDays:c,daysRemaining:30-c}},[ap]),az=a=>"ACTIF"===a.status&&!a.hasBadge,aA=()=>{let a=Y.filter(az).map(a=>a.id);ai.length===a.length?aj([]):aj(a)},aB=async()=>{if(0!==ai.length&&confirm(`Vous allez transf\xe9rer ${ai.length} employ\xe9(s) au service d'impression.

Continuer ?`))try{let a=await Promise.allSettled(ai.map(a=>I.employeeService.transferToPrint(a))),b=a.filter(a=>"fulfilled"===a.status).length,c=a.filter(a=>"rejected"===a.status).length,d=Y.map(b=>{let c=ai.indexOf(b.id);return -1!==c&&"fulfilled"===a[c].status?{...b,hasBadge:!0,badgeStatus:"EN_ATTENTE"}:b});Z(d),aj([]),0===c?ao({title:"‚úÖ Transfert r√©ussi",description:`${b} employ\xe9(s) ont \xe9t\xe9 transf\xe9r\xe9s au service d'impression`}):ao({title:"‚ö†Ô∏è Transfert partiel",description:`${b} r\xe9ussi(s), ${c} \xe9chou\xe9(s)`,variant:b>0?"default":"destructive"})}catch(a){ao({variant:"destructive",title:"‚ùå Erreur",description:"Une erreur s'est produite lors du transfert"})}};return(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:[(0,b.jsx)("header",{className:"border-b border-orange-100 bg-white/80 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:(0,b.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(G.default,{href:"/dashboard/rh",children:(0,b.jsxs)(d.Button,{variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed] gap-2",children:[(0,b.jsx)(n.Building2,{className:"w-5 h-5"}),"Retour au Dashboard"]})}),(0,b.jsx)("div",{className:"h-8 w-px bg-orange-200"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] bg-clip-text text-transparent",children:"Gestion des Employ√©s"}),(0,b.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:[Y.length," employ√©(s) trouv√©(s)"]})]})]}),(0,b.jsx)(G.default,{href:"/dashboard/rh/employees/new",children:(0,b.jsxs)(d.Button,{size:"lg",className:"shadow-lg shadow-[#ff8d13]/20 gap-2 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13]",children:[(0,b.jsx)(m.UserPlus,{className:"w-5 h-5"}),"Nouvel Employ√©"]})})]})})}),(0,b.jsxs)("main",{className:"container mx-auto px-6 py-8 space-y-6",children:[(0,b.jsx)(f.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:(0,b.jsx)(f.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsx)("div",{className:"md:col-span-2",children:(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)(l.Search,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400 group-focus-within:text-[#ff8d13] transition-colors"}),(0,b.jsx)(e.Input,{placeholder:"Rechercher par nom, matricule...",value:o,onChange:a=>E(a.target.value),className:"pl-10 h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]})}),(0,b.jsx)("div",{children:(0,b.jsxs)(k.Select,{value:M,onValueChange:N,children:[(0,b.jsx)(k.SelectTrigger,{className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] rounded-xl",children:(0,b.jsx)(k.SelectValue,{placeholder:"Type"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"TOUS",children:"Tous les types"}),(0,b.jsx)(k.SelectItem,{value:"PERSONNEL_DSD",children:"Personnel DSD"}),(0,b.jsx)(k.SelectItem,{value:"DNTT",children:"DNTT"}),(0,b.jsx)(k.SelectItem,{value:"STAGIAIRE_DSD",children:"Stagiaire DSD"}),(0,b.jsx)(k.SelectItem,{value:"BANQUE",children:"Banque"}),(0,b.jsx)(k.SelectItem,{value:"EMBOUTISSEUR",children:"Emboutisseur"}),(0,b.jsx)(k.SelectItem,{value:"DNTT_STAGIAIRE",children:"DNTT Stagiaire"}),(0,b.jsx)(k.SelectItem,{value:"DEMARCHEUR",children:"D√©marcheur"})]}),"                  "]})}),(0,b.jsx)("div",{children:(0,b.jsxs)(k.Select,{value:O,onValueChange:P,children:[(0,b.jsx)(k.SelectTrigger,{className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] rounded-xl",children:(0,b.jsx)(k.SelectValue,{placeholder:"Statut"})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"TOUS",children:"Tous les statuts"}),(0,b.jsx)(k.SelectItem,{value:"ACTIF",children:"Actifs"}),(0,b.jsx)(k.SelectItem,{value:"SUSPENDU",children:"Suspendus"}),(0,b.jsx)(k.SelectItem,{value:"TERMINE",children:"Termin√©s"})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Fin de contrat - Du"}),(0,b.jsx)(e.Input,{type:"date",value:U,onChange:a=>V(a.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Fin de contrat - Au"}),(0,b.jsx)(e.Input,{type:"date",value:W,onChange:a=>X(a.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Profil"}),(0,b.jsx)(e.Input,{type:"text",placeholder:"Filtrer par profil...",value:Q,onChange:a=>R(a.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Dipl√¥me"}),(0,b.jsx)(e.Input,{type:"text",placeholder:"Filtrer par dipl√¥me...",value:S,onChange:a=>T(a.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]})]}),(U||W||Q||S)&&(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(d.Button,{variant:"outline",size:"sm",onClick:()=>{V(""),X(""),R(""),T("")},className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:[(0,b.jsx)(w.X,{className:"w-4 h-4 mr-2"}),"R√©initialiser les filtres"]})})]})})}),(0,b.jsxs)(f.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm overflow-hidden",children:[(0,b.jsxs)(f.CardHeader,{className:"bg-gradient-to-r from-orange-50/50 to-amber-50/50 border-b border-orange-100",children:[(0,b.jsx)(f.CardTitle,{className:"text-2xl font-bold text-gray-900",children:"Liste des Employ√©s"}),(0,b.jsx)(f.CardDescription,{className:"text-gray-600",children:"G√©rer et transf√©rer les employ√©s pour impression de badge"})]}),(0,b.jsxs)(f.CardContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(j.Table,{children:[(0,b.jsx)(j.TableHeader,{children:(0,b.jsxs)(j.TableRow,{className:"border-b border-orange-100 hover:bg-[#fff5ed]/50",children:[(0,b.jsx)(j.TableHead,{className:"w-12",children:(0,b.jsx)("button",{type:"button",onClick:()=>aA,className:"flex items-center justify-center w-full h-full p-2 hover:bg-orange-100 rounded transition-colors",title:ai.length>0?"D√©s√©lectionner tout":"S√©lectionner tout",children:ai.length>0?(0,b.jsx)(u,{className:"w-5 h-5 text-[#ff8d13]"}):(0,b.jsx)(v,{className:"w-5 h-5 text-gray-400"})})}),(0,b.jsx)(j.TableHead,{className:"font-bold text-gray-700",children:"Employ√©"}),(0,b.jsx)(j.TableHead,{className:"font-bold text-gray-700",children:"Contact"}),(0,b.jsx)(j.TableHead,{className:"font-bold text-gray-700",children:"Type"}),(0,b.jsx)(j.TableHead,{className:"font-bold text-gray-700",children:"Statut"}),(0,b.jsx)(j.TableHead,{className:"font-bold text-gray-700",children:"Date d'embauche"}),(0,b.jsx)(j.TableHead,{className:"font-bold text-gray-700",children:"Fin de contrat"}),(0,b.jsx)(j.TableHead,{className:"text-right font-bold text-gray-700",children:"Actions"})]})}),(0,b.jsx)(j.TableBody,{children:$?(0,b.jsx)(j.TableRow,{children:(0,b.jsx)(j.TableCell,{colSpan:8,className:"text-center py-8",children:(0,b.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,b.jsx)("div",{className:"w-6 h-6 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("span",{className:"text-gray-600",children:"Chargement..."})]})})}):0===Y.length?(0,b.jsx)(j.TableRow,{children:(0,b.jsx)(j.TableCell,{colSpan:8,className:"text-center py-8 text-gray-500",children:"Aucun employ√© trouv√©"})}):Y.map(c=>(0,b.jsxs)(j.TableRow,{className:"border-b border-orange-50 hover:bg-[#fff5ed]/50 transition-colors",children:[(0,b.jsx)(j.TableCell,{children:(0,b.jsx)("button",{type:"button",onClick:()=>{var a;return a=c.id,void aj(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},disabled:!az(c),className:`flex items-center justify-center p-2 rounded transition-colors ${az(c)?"hover:bg-orange-100 cursor-pointer":"cursor-not-allowed opacity-40"}`,title:az(c)?ai.includes(c.id)?"D√©s√©lectionner":"S√©lectionner":"Cet employ√© ne peut pas √™tre s√©lectionn√©",children:ai.includes(c.id)?(0,b.jsx)(u,{className:"w-5 h-5 text-[#ff8d13]"}):(0,b.jsx)(v,{className:"w-5 h-5 text-gray-400"})})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(h.Avatar,{className:"w-12 h-12 ring-2 ring-orange-200",children:[c.photo&&(0,i.getImageUrl)(c.photo)?(0,b.jsx)(h.AvatarImage,{src:(0,i.getImageUrl)(c.photo)||"",alt:`${c.prenom} ${c.nom}`}):null,(0,b.jsxs)(h.AvatarFallback,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white font-bold text-sm",children:[c.prenom[0],c.nom[0]]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-bold text-gray-900",children:[c.prenom," ",c.nom]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:c.matricule})]})]})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700",children:c.telephone}),c.email&&(0,b.jsx)("p",{className:"text-xs text-gray-500",children:c.email})]})}),(0,b.jsx)(j.TableCell,{children:((a,c)=>{let d={PERSONNELS_DSD:"Personnels DSD",DNTT:"DNTT",STAGIAIRES_DSD:"Stagiaires DSD",BANQUES:"Banque",MAISONS_PLAQUE:"Emboutisseur",DNTT_STAGIAIRES:"DNTT Stagiaires",DEMARCHEURS:"D√©marcheurs"}[a]||a,e=c?`${d} ${c}`:d;return(0,b.jsx)(g.Badge,{className:`${{PERSONNELS_DSD:"bg-[#ff8d13]",DNTT:"bg-blue-600",STAGIAIRES_DSD:"bg-green-600",BANQUES:"bg-purple-600",MAISONS_PLAQUE:"bg-pink-600",DNTT_STAGIAIRES:"bg-teal-600",DEMARCHEURS:"bg-amber-600"}[a]||"bg-gray-600"} text-white font-semibold`,children:e})})(c.type,c.sousType)}),(0,b.jsx)(j.TableCell,{children:(a=>{let c={ACTIF:{label:"Actif",className:"bg-green-500 text-white font-semibold"},SUSPENDU:{label:"Suspendu",className:"bg-orange-500 text-white font-semibold"},TERMINE:{label:"Termin√©",className:"bg-gray-500 text-white font-semibold"}},d=c[a]||c.TERMINE;return(0,b.jsx)(g.Badge,{className:d.className,children:d.label})})(c.status)}),(0,b.jsx)(j.TableCell,{className:"text-sm font-medium text-gray-700",children:aq(c.dateEmbauche)}),(0,b.jsx)(j.TableCell,{className:"text-sm font-medium text-gray-700",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[c.dateFinContrat?aq(c.dateFinContrat):"N/A",c.dateFinContrat&&ax(c.dateFinContrat)&&"TERMINE"!==c.status&&(()=>{let{daysRemaining:a}=ay(c.dateFinContrat);return(0,b.jsxs)(g.Badge,{className:"bg-red-600 text-white font-semibold gap-1 flex items-center text-xs",children:[(0,b.jsx)(t.AlertTriangle,{className:"w-3 h-3"}),"Expir√©"]})})()]}),c.dateFinContrat&&ax(c.dateFinContrat)&&"TERMINE"!==c.status&&(()=>{let{daysRemaining:a}=ay(c.dateFinContrat);if(a>0)return(0,b.jsxs)("p",{className:"text-xs text-[#ff8d13] font-medium",children:["Auto-termin√© dans ",a,"j"]})})()]})}),(0,b.jsx)(j.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["ACTIF"===c.status&&!c.hasBadge&&(0,b.jsxs)(d.Button,{size:"sm",className:"gap-2 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13] shadow-md",onClick:()=>as(c.id),children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"Transf√©rer"]}),c.hasBadge&&"EN_ATTENTE"===c.badgeStatus&&(0,b.jsx)(g.Badge,{className:"bg-orange-500 text-white font-semibold",children:"En attente d'impression"}),c.hasBadge&&"IMPRIME"===c.badgeStatus&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Badge,{className:"bg-green-600 text-white font-semibold",children:1===c.printCount?"Badge imprim√©":2===c.printCount?"Badge r√©imprim√©":`Badge r\xe9imprim\xe9(${(c.printCount||2)-2})`}),(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"gap-2 border-blue-200 hover:bg-blue-50 text-blue-600",onClick:()=>at(c),children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"Renvoyer pour r√©impression"]})]}),c.hasBadge&&"REIMPRESSION"===c.badgeStatus&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Badge,{className:"bg-blue-600 text-white font-semibold",children:"Autoris√© pour r√©impression"}),(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"gap-2 border-blue-200 hover:bg-blue-50 text-blue-600",onClick:()=>at(c),children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"Renvoyer √† nouveau"]})]}),(0,b.jsxs)(B.DropdownMenu,{children:[(0,b.jsx)(B.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"border-purple-200 hover:bg-purple-50 hover:border-purple-300 gap-2 transition-all shadow-sm hover:shadow-md",children:[(0,b.jsx)(x,{className:"w-4 h-4 text-purple-600"}),(0,b.jsx)("span",{className:"font-semibold",children:"Statut"})]})}),(0,b.jsxs)(B.DropdownMenuContent,{align:"end",className:"w-64 p-2 shadow-2xl border-2 border-gray-200 bg-white",children:[(0,b.jsx)(B.DropdownMenuLabel,{className:"text-center text-lg font-bold text-gray-800 py-3 border-b-2 border-gray-200",children:"Modifier le Statut"}),(0,b.jsxs)("div",{className:"py-2 space-y-1",children:[(0,b.jsx)(B.DropdownMenuItem,{onClick:()=>av(c.id,"ACTIF"),disabled:"ACTIF"===c.status,className:`cursor-pointer p-3 rounded-lg transition-all ${"ACTIF"===c.status?"bg-green-50 border-2 border-green-500 opacity-60 cursor-not-allowed":"hover:bg-green-50 hover:border-2 hover:border-green-300 border-2 border-transparent"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:(0,b.jsx)(y.CheckCircle,{className:"w-5 h-5 text-green-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900",children:"Actif"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Employ√© en activit√©"})]}),"ACTIF"===c.status&&(0,b.jsx)(g.Badge,{className:"bg-green-500 text-white text-xs",children:"Actuel"})]})}),(0,b.jsx)(B.DropdownMenuItem,{onClick:()=>av(c.id,"SUSPENDU"),disabled:"SUSPENDU"===c.status,className:`cursor-pointer p-3 rounded-lg transition-all ${"SUSPENDU"===c.status?"bg-orange-50 border-2 border-orange-500 opacity-60 cursor-not-allowed":"hover:bg-orange-50 hover:border-2 hover:border-orange-300 border-2 border-transparent"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,b.jsx)(z.Ban,{className:"w-5 h-5 text-orange-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900",children:"Suspendu"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Suspension temporaire"})]}),"SUSPENDU"===c.status&&(0,b.jsx)(g.Badge,{className:"bg-orange-500 text-white text-xs",children:"Actuel"})]})}),(0,b.jsx)(B.DropdownMenuItem,{onClick:()=>av(c.id,"TERMINE"),disabled:"TERMINE"===c.status,className:`cursor-pointer p-3 rounded-lg transition-all ${"TERMINE"===c.status?"bg-gray-50 border-2 border-gray-400 opacity-60 cursor-not-allowed":"hover:bg-gray-50 hover:border-2 hover:border-gray-300 border-2 border-transparent"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,b.jsx)(A.XCircle,{className:"w-5 h-5 text-gray-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-bold text-gray-900",children:"Termin√©"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Fin de contrat"})]}),"TERMINE"===c.status&&(0,b.jsx)(g.Badge,{className:"bg-gray-500 text-white text-xs",children:"Actuel"})]})})]})]})]}),(0,b.jsx)(G.default,{href:`/dashboard/rh/employees/${c.id}`,children:(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"border-blue-200 hover:bg-blue-50 gap-2",children:[(0,b.jsx)(s.Eye,{className:"w-4 h-4 text-blue-600"}),"Voir"]})}),(0,b.jsx)(G.default,{href:`/dashboard/rh/employees/${c.id}/edit`,children:(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed] gap-2",children:[(0,b.jsx)(q.Edit,{className:"w-4 h-4"}),"Modifier"]})}),a?.role!=="ASSISTANT_RH"&&(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 gap-2",onClick:()=>au(c.id),children:[(0,b.jsx)(r.Trash2,{className:"w-4 h-4"}),"Supprimer"]})]})})]},c.id))})]})}),!$&&Y.length>0&&(0,b.jsxs)("div",{className:"mt-6 flex items-center justify-between border-t border-orange-100 pt-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,b.jsx)("span",{className:"font-semibold text-gray-900",children:ae})," employ√©(s) au total"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("label",{className:"text-sm text-gray-600",children:"Afficher:"}),(0,b.jsxs)(k.Select,{value:ag.toString(),onValueChange:a=>{ah(Number(a)),ab(1)},children:[(0,b.jsx)(k.SelectTrigger,{className:"h-9 w-20 border-[#fed7aa]",children:(0,b.jsx)(k.SelectValue,{})}),(0,b.jsxs)(k.SelectContent,{children:[(0,b.jsx)(k.SelectItem,{value:"10",children:"10"}),(0,b.jsx)(k.SelectItem,{value:"25",children:"25"}),(0,b.jsx)(k.SelectItem,{value:"50",children:"50"}),(0,b.jsx)(k.SelectItem,{value:"100",children:"100"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>ab(a=>Math.max(1,a-1)),disabled:1===aa,className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:"Pr√©c√©dent"}),(0,b.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,ac)},(a,c)=>{let e;return e=ac<=5||aa<=3?c+1:aa>=ac-2?ac-4+c:aa-2+c,(0,b.jsx)(d.Button,{variant:aa===e?"default":"outline",size:"sm",onClick:()=>ab(e),className:aa===e?"bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13]":"border-[#fed7aa] hover:bg-[#fff5ed]",children:e},`page-${e}`)})}),(0,b.jsx)(d.Button,{variant:"outline",size:"sm",onClick:()=>ab(a=>Math.min(ac,a+1)),disabled:aa===ac,className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:"Suivant"})]})]})]})]}),ai.length>0&&(0,b.jsx)("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-in slide-in-from-bottom-5",children:(0,b.jsx)(f.Card,{className:"shadow-2xl border-2 border-orange-500 bg-white",children:(0,b.jsx)(f.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(u,{className:"w-5 h-5 text-[#ff8d13]"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-bold text-gray-900",children:[ai.length," employ√©",ai.length>1?"s":""," s√©lectionn√©",ai.length>1?"s":""]}),(0,b.jsxs)("p",{className:"text-xs text-gray-600",children:["Pr√™t",ai.length>1?"s":""," pour le transfert"]})]})]}),(0,b.jsx)("div",{className:"h-10 w-px bg-gray-300"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(d.Button,{size:"sm",variant:"outline",className:"gap-2 border-gray-300 hover:bg-gray-50",onClick:()=>aj([]),children:[(0,b.jsx)(w.X,{className:"w-4 h-4"}),"Annuler"]}),(0,b.jsxs)(d.Button,{size:"sm",className:"gap-2 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13] shadow-lg",onClick:()=>aB(),children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"Transf√©rer la s√©lection"]})]})]})})})})]}),(0,b.jsx)(C.Dialog,{open:ak,onOpenChange:al,children:(0,b.jsxs)(C.DialogContent,{className:"sm:max-w-[550px] p-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-5 text-white",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm flex-shrink-0",children:(0,b.jsx)(z.Ban,{className:"w-7 h-7"})}),(0,b.jsxs)("div",{className:"flex-1 pt-1",children:[(0,b.jsx)(C.DialogTitle,{className:"text-2xl font-bold mb-1.5 leading-tight",children:"Suspension d'Employ√©"}),(0,b.jsx)(C.DialogDescription,{className:"text-orange-50 text-sm font-medium",children:Y.find(a=>a.id===am.employeeId)?`${Y.find(a=>a.id===am.employeeId)?.prenom} ${Y.find(a=>a.id===am.employeeId)?.nom}`:"Employ√© s√©lectionn√©"})]})]})}),(0,b.jsxs)("div",{className:"px-6 py-6 space-y-6 bg-white",children:[(0,b.jsx)("div",{className:"bg-blue-50 border-2 border-blue-200 p-4 rounded-xl",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(t.AlertTriangle,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{className:"flex-1 pt-0.5",children:[(0,b.jsx)("p",{className:"font-bold text-blue-900 text-sm mb-1.5",children:"√Ä savoir"}),(0,b.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1 leading-relaxed",children:[(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-500 mt-0.5",children:"‚Ä¢"}),(0,b.jsx)("span",{children:"La suspension peut √™tre appliqu√©e m√™me si le badge est d√©j√† imprim√©"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-500 mt-0.5",children:"‚Ä¢"}),(0,b.jsx)("span",{children:"L'employ√© sera automatiquement r√©activ√© √† la date indiqu√©e"})]}),(0,b.jsxs)("li",{className:"flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-blue-500 mt-0.5",children:"‚Ä¢"}),(0,b.jsx)("span",{children:"Le motif sera enregistr√© dans le dossier de l'employ√©"})]})]})]})]})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2.5 mb-2",children:[(0,b.jsx)("div",{className:"w-7 h-7 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xs flex-shrink-0",children:"1"}),(0,b.jsxs)(D.Label,{htmlFor:"motif",className:"text-base font-bold text-gray-900",children:["Motif de la suspension ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]})]}),(0,b.jsx)(F,{id:"motif",placeholder:"Exemple : Absence injustifi√©e r√©p√©t√©e  D√©crivez ici le motif d√©taill√© de la suspension...",value:am.motif,onChange:a=>an({...am,motif:a.target.value}),className:"min-h-[120px] border-2 border-gray-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 rounded-xl text-sm resize-none p-3 leading-relaxed"})]}),(0,b.jsxs)("div",{className:"space-y-2.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2.5 mb-2",children:[(0,b.jsx)("div",{className:"w-7 h-7 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xs flex-shrink-0",children:"2"}),(0,b.jsxs)(D.Label,{htmlFor:"dateFinSuspension",className:"text-base font-bold text-gray-900",children:["Date de fin de suspension ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]})]}),(0,b.jsx)(e.Input,{id:"dateFinSuspension",type:"date",value:am.dateFinSuspension,onChange:a=>an({...am,dateFinSuspension:a.target.value}),className:"h-12 border-2 border-gray-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 rounded-xl text-sm px-3",min:new Date().toISOString().split("T")[0]}),am.dateFinSuspension&&(0,b.jsx)("div",{className:"bg-green-50 border-2 border-green-300 rounded-xl p-3 mt-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,b.jsx)("div",{className:"w-9 h-9 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(y.CheckCircle,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-xs text-green-700 font-medium mb-0.5",children:"R√©activation automatique"}),(0,b.jsx)("p",{className:"text-sm text-green-900 font-bold",children:new Date(am.dateFinSuspension).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})})]})]})]}),(0,b.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t-2 border-gray-200",children:(0,b.jsxs)("div",{className:"flex gap-2.5",children:[(0,b.jsxs)(d.Button,{type:"button",variant:"outline",onClick:()=>{al(!1),an({employeeId:"",motif:"",dateFinSuspension:""})},className:"flex-1 h-10 border-2 border-gray-300 hover:bg-gray-100 font-semibold text-xs rounded-lg",children:[(0,b.jsx)(w.X,{className:"w-3.5 h-3.5 mr-1.5"}),"Annuler"]}),(0,b.jsxs)(d.Button,{type:"button",onClick:aw,className:"flex-1 h-10 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold text-xs shadow-lg shadow-orange-500/30 rounded-lg",children:[(0,b.jsx)(z.Ban,{className:"w-3.5 h-3.5 mr-1.5"}),"Confirmer"]})]})})]})})]})}}];

//# sourceMappingURL=Desktop_rhmanagement_frontend_app_dashboard_rh_employees_page_tsx_bcaf2d27._.js.map