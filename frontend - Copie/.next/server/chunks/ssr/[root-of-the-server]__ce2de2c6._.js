module.exports=[35592,(a,b,c)=>{"use strict";b.exports=a.r(52848).vendored.contexts.AppRouterContext},44164,(a,b,c)=>{"use strict";b.exports=a.r(52848).vendored.contexts.HooksClientContext},55264,(a,b,c)=>{"use strict";b.exports=a.r(52848).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},52848,(a,b,c)=>{"use strict";b.exports=a.r(18622)},76750,(a,b,c)=>{"use strict";b.exports=a.r(52848).vendored["react-ssr"].ReactJsxRuntime},57167,(a,b,c)=>{"use strict";b.exports=a.r(52848).vendored["react-ssr"].React},7251,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(c,{BailoutToCSRError:function(){return e},isBailoutToCSRError:function(){return f}});let d="BAILOUT_TO_CLIENT_SIDE_RENDERING";class e extends Error{constructor(a){super("Bail out to client-side rendering: "+a),this.reason=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===d}},3314,(a,b,c)=>{b.exports=a.r(4905)},91664,a=>{"use strict";a.s(["AuthProvider",()=>g,"useAuth",()=>h]);var b=a.i(76750),c=a.i(57167),d=a.i(3314);let e=(0,c.createContext)(void 0),f=["/login","/register","/forgot-password","/verify"];function g({children:a}){let[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!0),m=(0,d.useRouter)(),n=(0,d.usePathname)();return(0,c.useEffect)(()=>{let a=localStorage.getItem("token"),b=localStorage.getItem("user");a&&b&&(j(a),h(JSON.parse(b))),l(!1)},[]),(0,c.useEffect)(()=>{if(!k){let a=f.some(a=>n?.startsWith(a)),b="/"===n,c=n?.startsWith("/dashboard/rh/employees"),d="/dashboard/rh"===n,e=n?.startsWith("/dashboard/rh/users"),h="/change-password"===n;if(!i&&!a&&!b)return void m.push("/login");if(i&&g&&("RH"===g.role||"ASSISTANT_RH"===g.role)){if(e)return void m.push("/dashboard/rh/employees");c||d||a||b||h||m.push("/dashboard/rh/employees")}}},[i,g,n,k,m]),(0,b.jsx)(e.Provider,{value:{user:g,token:i,isLoading:k,login:(a,b)=>{localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(b)),document.cookie=`token=${a}; path=/; max-age=604800`,j(a),h(b)},logout:()=>{console.log("logout() appelé"),localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("localStorage nettoyé"),document.cookie="token=; path=/; max-age=0",console.log("Cookie supprimé"),j(null),h(null),console.log("État réinitialisé"),console.log("Redirection vers /login..."),window.location.href="/login"},isAuthenticated:!!i},children:a})}function h(){let a=(0,c.useContext)(e);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},64311,a=>{"use strict";a.s(["default",()=>c]);var b=a.i(57167);function c(){return(0,b.useEffect)(()=>{},[]),null}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ce2de2c6._.js.map