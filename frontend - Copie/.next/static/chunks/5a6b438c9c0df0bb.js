(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87311,e=>{"use strict";e.s(["ArrowLeft",()=>t],87311);let t=(0,e.i(30284).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},84768,e=>{"use strict";e.s(["KeyRound",()=>t],84768);let t=(0,e.i(30284).default)("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]])},18326,e=>{"use strict";e.s(["API_ENDPOINTS",()=>t,"VALIDATION",()=>s,"getImageUrl",()=>r]);let t={AUTH:{LOGIN:"/auth/login",REGISTER:"/auth/register",LOGOUT:"/auth/logout",RESET_PASSWORD:"/auth/reset-password",CHANGE_PASSWORD:"/auth/change-password",STATS:"/auth/stats",USERS:"/auth/users"},EMPLOYEES:"/employees",EMPLOYEE_BY_ID:e=>"/employees/".concat(e),EMPLOYEE_STATS:"/employees/stats",BADGES:"/badges",BADGE_BY_ID:e=>"/badges/".concat(e),BADGE_STATS:"/badges/stats",PRINT_BADGE:e=>"/badges/".concat(e,"/print"),USERS:"/users",USER_PROFILE:"/users/me"},s={MIN_PASSWORD_LENGTH:8,PHONE_REGEX:/^(\+224\s?)?6\d{2}(\s?\d{2}){3}$/,EMAIL_REGEX:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,MATRICULE_REGEX:/.{3,}/},r=e=>{if(!e)return null;if(e.startsWith("http"))return e;let t=e.startsWith("/")?e.slice(1):e;return"".concat("http://192.168.100.171:4003/api","/").concat(t)}},40267,e=>{"use strict";function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e.s(["authService",()=>d,"del",()=>c,"get",()=>o,"handleApiError",()=>l,"post",()=>n,"put",()=>i],40267);var s=e.i(18326);class r extends Error{getUserMessage(){switch(this.status){case 400:return"âŒ Erreur de validation: ".concat(this.message);case 401:return"ðŸ”’ Session expirÃ©e. Veuillez vous reconnecter.";case 403:return"â›” AccÃ¨s refusÃ©. Vous n'avez pas les permissions nÃ©cessaires.";case 404:return"ðŸ” Ressource non trouvÃ©e: ".concat(this.message);case 409:return"âš ï¸ Conflit: ".concat(this.message);case 422:return"ðŸ“‹ DonnÃ©es invalides: ".concat(this.message);case 500:return"ðŸ”¥ Erreur serveur: ".concat(this.message);case 503:return"â¸ï¸ Service temporairement indisponible. RÃ©essayez plus tard.";default:return"âŒ ".concat(this.message)}}getDebugInfo(){return"[".concat(this.status,"] ").concat(this.name,": ").concat(this.message,"\nData: ").concat(JSON.stringify(this.data,null,2))}constructor(e,s,r){super(s),t(this,"status",void 0),t(this,"message",void 0),t(this,"data",void 0),this.status=e,this.message=s,this.data=r,this.name="ApiError"}}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=localStorage.getItem("token")||localStorage.getItem("auth_token");console.log("ðŸŒ API Request: ".concat(t.method||"GET"," ").concat(e));let a=new AbortController,o=setTimeout(()=>a.abort(),3e4);try{let n,i=await fetch("".concat("http://192.168.100.171:4003/api").concat(e),{...t,cache:"no-store",headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{},...t.headers},signal:a.signal});clearTimeout(o);try{n=await i.json()}catch(e){throw console.error("âŒ Erreur de parsing JSON:",e),new r(i.status,"RÃ©ponse du serveur invalide",{parseError:e,status:i.status})}if(!i.ok){let e=n.message||"Une erreur est survenue";n.errors&&Array.isArray(n.errors)&&(e=n.errors.map(e=>e.message||e).join(", "));let t=new r(i.status,e,n);throw console.error("âŒ API Error:",t.getDebugInfo()),t}console.log("âœ… API Success: ".concat(t.method||"GET"," ").concat(e));let{success:c,...l}=n;return{success:null==c||c,...l}}catch(e){if(clearTimeout(o),e instanceof Error&&"AbortError"===e.name){let e=new r(408,"La requÃªte a pris trop de temps (timeout aprÃ¨s 30 secondes)");throw console.error("â±ï¸ Timeout Error:",e.getDebugInfo()),e}throw e}}catch(t){if(t instanceof r)throw t;let e=new r(0,t instanceof Error?t.message:"Erreur de connexion au serveur");throw console.error("âŒ Network Error:",e.getDebugInfo()),e}}async function o(e,t){return a(e,{...t,method:"GET"})}async function n(e,t,s){return a(e,{...s,method:"POST",body:JSON.stringify(t)})}async function i(e,t,s){return a(e,{...s,method:"PUT",body:JSON.stringify(t)})}async function c(e,t){return a(e,{...t,method:"DELETE"})}function l(e){return e instanceof r?e.getUserMessage():(null==e?void 0:e.message)||"Une erreur inattendue est survenue"}let d={login:async e=>n(s.API_ENDPOINTS.AUTH.LOGIN,e),register:async e=>n(s.API_ENDPOINTS.AUTH.REGISTER,e),logout:async()=>n(s.API_ENDPOINTS.AUTH.LOGOUT),changePassword:async e=>{let t=localStorage.getItem("token");return i(s.API_ENDPOINTS.AUTH.CHANGE_PASSWORD,e,{headers:{Authorization:"Bearer ".concat(t)}})}}},45082,e=>{"use strict";e.s(["Label",()=>n],45082);var t=e.i(50622),s=e.i(17257),r=e.i(36193),a=s.forwardRef((e,s)=>(0,t.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var o=e.i(34821);function n(e){let{className:s,...r}=e;return(0,t.jsx)(a,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}},49505,e=>{"use strict";e.s(["Input",()=>r]);var t=e.i(50622),s=e.i(34821);function r(e){let{className:r,type:a,...o}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-[#ff8d13] selection:text-white dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","select-text cursor-text",r),style:{userSelect:"text",WebkitUserSelect:"text"},...o})}},72438,e=>{"use strict";e.s(["useToast",()=>l]);var t=e.i(17257);let s=0,r=new Map,a=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),i({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},o=[],n={toasts:[]};function i(e){n=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?a(s):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(n,e),o.forEach(e=>{e(n)})}function c(e){let{...t}=e,r=(s=(s+1)%Number.MAX_VALUE).toString(),a=()=>i({type:"DISMISS_TOAST",toastId:r});return i({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>i({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function l(){let[e,s]=t.useState(n);return t.useEffect(()=>(o.push(s),()=>{let e=o.indexOf(s);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>i({type:"DISMISS_TOAST",toastId:e})}}},25030,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>i,"CardDescription",()=>n,"CardHeader",()=>a,"CardTitle",()=>o]);var t=e.i(50622),s=e.i(34821);function r(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...a})}function a(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...a})}function o(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",r),...a})}function n(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",r),...a})}function i(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",r),...a})}},36193,e=>{"use strict";e.s(["Primitive",()=>o,"dispatchDiscreteCustomEvent",()=>n]);var t=e.i(17257),s=e.i(49700),r=e.i(93044),a=e.i(50622),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let o=(0,r.createSlot)("Primitive.".concat(s)),n=t.forwardRef((e,t)=>{let{asChild:r,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(r?o:s,{...n,ref:t})});return n.displayName="Primitive.".concat(s),{...e,[s]:n}},{});function n(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},45042,e=>{"use strict";e.s(["Eye",()=>t],45042);let t=(0,e.i(30284).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},81214,e=>{"use strict";e.s(["EyeOff",()=>t],81214);let t=(0,e.i(30284).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},7703,e=>{"use strict";e.s(["default",()=>m]);var t=e.i(50622),s=e.i(17257),r=e.i(96382),a=e.i(49505),o=e.i(45082),n=e.i(25030),i=e.i(84768),c=e.i(45042),l=e.i(81214),d=e.i(87311),u=e.i(67493),h=e.i(72438),p=e.i(40267);function m(){let[e,m]=(0,s.useState)(""),[f,g]=(0,s.useState)(""),[x,v]=(0,s.useState)(""),[y,E]=(0,s.useState)(!1),[b,S]=(0,s.useState)(!1),[w,T]=(0,s.useState)(!1),[N,A]=(0,s.useState)(!1),j=(0,u.useRouter)(),{toast:I}=(0,h.useToast)(),O=async t=>{if(t.preventDefault(),f.length<8)return void I({variant:"destructive",title:"Erreur",description:"Le nouveau mot de passe doit contenir au moins 8 caractÃ¨res"});if(f!==x)return void I({variant:"destructive",title:"Erreur",description:"Les mots de passe ne correspondent pas"});A(!0);try{await p.authService.changePassword({currentPassword:e,newPassword:f}),I({title:"SuccÃ¨s",description:"Votre mot de passe a Ã©tÃ© modifiÃ© avec succÃ¨s"}),setTimeout(()=>{j.push("/dashboard/rh/employees")},2e3)}catch(e){I({variant:"destructive",title:"Erreur",description:e.message||"Impossible de changer le mot de passe"})}finally{A(!1)}};return(0,t.jsxs)("div",{className:"container max-w-2xl mx-auto py-8 px-4",children:[(0,t.jsxs)(r.Button,{variant:"ghost",onClick:()=>j.push("/dashboard/rh/employees"),className:"mb-4",children:[(0,t.jsx)(d.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Retour"]}),(0,t.jsxs)(n.Card,{children:[(0,t.jsx)(n.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] rounded-lg flex items-center justify-center",children:(0,t.jsx)(i.KeyRound,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(n.CardTitle,{children:"Changer le mot de passe"}),(0,t.jsx)(n.CardDescription,{children:"Modifiez votre mot de passe pour sÃ©curiser votre compte"})]})]})}),(0,t.jsx)(n.CardContent,{children:(0,t.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Input,{id:"currentPassword",type:y?"text":"password",value:e,onChange:e=>m(e.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>E(!y),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-[#ff8d13]",children:y?(0,t.jsx)(l.EyeOff,{className:"h-5 w-5"}):(0,t.jsx)(c.Eye,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Input,{id:"newPassword",type:b?"text":"password",value:f,onChange:e=>g(e.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>S(!b),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-[#ff8d13]",children:b?(0,t.jsx)(l.EyeOff,{className:"h-5 w-5"}):(0,t.jsx)(c.Eye,{className:"h-5 w-5"})})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Minimum 8 caractÃ¨res"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"confirmPassword",children:"Confirmer le nouveau mot de passe"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(a.Input,{id:"confirmPassword",type:w?"text":"password",value:x,onChange:e=>v(e.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",className:"pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>T(!w),className:"absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-[#ff8d13]",children:w?(0,t.jsx)(l.EyeOff,{className:"h-5 w-5"}):(0,t.jsx)(c.Eye,{className:"h-5 w-5"})})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(r.Button,{type:"button",variant:"outline",onClick:()=>j.push("/dashboard/rh/employees"),className:"flex-1",children:"Annuler"}),(0,t.jsx)(r.Button,{type:"submit",disabled:N,className:"flex-1 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13]",children:N?"Modification...":"Modifier le mot de passe"})]})]})})]})]})}}]);