(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13561,e=>{"use strict";e.s(["default",()=>z],13561);var s=e.i(50622),t=e.i(17257),a=e.i(96382),r=e.i(49505),l=e.i(25030),i=e.i(73776),n=e.i(24769),o=e.i(18326),d=e.i(98978),c=e.i(78075),m=e.i(93963),u=e.i(46941),x=e.i(22976),h=e.i(30284);let g=(0,h.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var p=e.i(54128),f=e.i(668),b=e.i(45042),j=e.i(99686);let N=(0,h.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),v=(0,h.default)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);var y=e.i(22088);let S=(0,h.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var w=e.i(65854),T=e.i(38510),E=e.i(89927),C=e.i(16183),I=e.i(90471),D=e.i(45082),A=e.i(34821);function R(e){let{className:t,...a}=e;return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,A.cn)("placeholder:text-muted-foreground selection:bg-[#ff8d13] selection:text-white dark:bg-input/30 border-input w-full min-w-0 rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","select-text cursor-text resize-y",t),style:{userSelect:"text",WebkitUserSelect:"text"},...a})}var F=e.i(10101),B=e.i(72438),k=e.i(942),U=e.i(25760),M=e.i(27994),P=e.i(65497);function z(){var e,h;let{user:A}=(0,P.useAuth)(),[z,L]=(0,t.useState)(""),[O,H]=(0,t.useState)("TOUS"),[_,V]=(0,t.useState)("TOUS"),[q,G]=(0,t.useState)(""),[Q,X]=(0,t.useState)(""),[K,W]=(0,t.useState)(""),[J,Y]=(0,t.useState)(""),[Z,$]=(0,t.useState)([]),[ee,es]=(0,t.useState)(!0),[et,ea]=(0,t.useState)(1),[er,el]=(0,t.useState)(1),[ei,en]=(0,t.useState)(0),[eo,ed]=(0,t.useState)(10),[ec,em]=(0,t.useState)([]),[eu,ex]=(0,t.useState)(!1),[eh,eg]=(0,t.useState)({employeeId:"",motif:"",dateFinSuspension:""}),{toast:ep}=(0,B.useToast)();(0,t.useEffect)(()=>{ej()},[O,_,z,et,eo,K,J,q,Q]),console.log("Les employees:",Z),(0,t.useEffect)(()=>{em([])},[et,eo,O,_,z,K,J,q,Q]);let ef=(0,t.useMemo)(()=>new Date,[]),eb=(0,t.useMemo)(()=>e=>{if(!e)return"N/A";try{let s=new Date(e);if(isNaN(s.getTime()))return"N/A";return s.toLocaleDateString("fr-FR")}catch(e){return"N/A"}},[]),ej=async()=>{var e,s,t;try{es(!0);let t={page:et.toString(),limit:eo.toString()};"TOUS"!==O&&(t.type=O),"TOUS"!==_&&(t.status=_),z&&(t.search=z),K&&(t.dateFinContratDe=K),J&&(t.dateFinContratA=J),q&&(t.profil=q),Q&&(t.diplome=Q);let a=await k.employeeService.getAll(t);M.logger.log("üì• Response compl√®te:",a);let r=a.data||[];M.logger.log("üë• Employees:",r),$(r),el((null==(e=a.pagination)?void 0:e.pages)||1),en((null==(s=a.pagination)?void 0:s.total)||0)}catch(e){ep({variant:"destructive",title:"Erreur",description:(null==(t=e.getUserMessage)?void 0:t.call(e))||e.message||"Impossible de charger les employ√©s"})}finally{es(!1)}},eN=async e=>{if(!e||"undefined"===e)return void ep({variant:"destructive",title:"Erreur",description:"ID de l'employ√© invalide"});let s=Z.find(s=>s.id===e);try{await k.employeeService.transferToPrint(e);let t=Z.map(s=>s.id===e?{...s,hasBadge:!0,badgeStatus:"EN_ATTENTE"}:s);$(t),ep({title:"‚úÖ Transfert r√©ussi",description:"".concat(null==s?void 0:s.prenom," ").concat(null==s?void 0:s.nom," a √©t√© transf√©r√© au service d'impression")})}catch(e){var t;ep({variant:"destructive",title:"Erreur de transfert",description:(null==(t=e.getUserMessage)?void 0:t.call(e))||e.message||"Impossible de transf√©rer l'employ√©"})}},ev=async e=>{if(!e.badgeId)return void ep({variant:"destructive",title:"Erreur",description:"Badge introuvable pour cet employ√©"});try{await U.badgesService.authorizeReprint(e.badgeId);let s=Z.map(s=>s.id===e.id?{...s,badgeStatus:"REIMPRESSION"}:s);$(s),ep({title:"‚úÖ R√©impression autoris√©e",description:"Le badge de ".concat(e.prenom," ").concat(e.nom," a √©t√© renvoy√© pour r√©impression")})}catch(e){ep({variant:"destructive",title:"‚ùå Erreur",description:e.message||"Impossible d'autoriser la r√©impression"})}},ey=async e=>{let s=Z.find(s=>s.id===e);if(confirm("‚ö†Ô∏è ATTENTION ‚ö†Ô∏è\n\nVous √™tes sur le point de supprimer d√©finitivement l'employ√© :\n\n"+"üë§ ".concat(null==s?void 0:s.prenom," ").concat(null==s?void 0:s.nom,"\n")+"üìã Matricule: ".concat(null==s?void 0:s.matricule,"\n")+"üíº Fonction: ".concat(null==s?void 0:s.fonction,"\n\n")+"Cette action est IRR√âVERSIBLE et supprimera :\n‚úó Toutes les informations de l'employ√©\n‚úó Le badge associ√© s'il existe\n‚úó L'historique complet\n‚úó Impossibilit√© de r√©cup√©ration\n\n√ätes-vous absolument s√ªr de vouloir continuer ?"))try{await k.employeeService.delete(e);let t=Z.filter(s=>s.id!==e);$(t),en(e=>e-1);let a=Math.ceil((ei-1)/eo);et>a&&a>0?ea(a):0===t.length&&et>1&&ea(e=>e-1),ep({title:"üóëÔ∏è Employ√© supprim√©",description:"".concat(null==s?void 0:s.prenom," ").concat(null==s?void 0:s.nom," a √©t√© supprim√© d√©finitivement du syst√®me")})}catch(e){ep({variant:"destructive",title:"‚ùå Erreur de suppression",description:e.message||"Impossible de supprimer l'employ√©"})}},eS=async(e,s)=>{let t=Z.find(s=>s.id===e);if(!t)return;if("SUSPENDU"===s){eg({employeeId:e,motif:"",dateFinSuspension:""}),ex(!0);return}let a={ACTIF:"Actif",SUSPENDU:"Suspendu",TERMINE:"Termin√©"};if(confirm("Voulez-vous changer le statut de ".concat(t.prenom," ").concat(t.nom,' en "').concat(a[s],'" ?')))try{await k.employeeService.updateStatus(e,s);let r=Z.map(t=>t.id===e?{...t,status:s,motifSuspension:null,dateFinSuspension:null}:t);$(r),ep({title:"‚úÖ Statut modifi√©",description:"Le statut de ".concat(t.prenom," ").concat(t.nom,' a √©t√© chang√© en "').concat(a[s],'"')})}catch(e){ep({variant:"destructive",title:"‚ùå Erreur",description:e.message||"Impossible de modifier le statut"})}},ew=async()=>{let e=Z.find(e=>e.id===eh.employeeId);if(!e)return;if(!eh.motif.trim())return void ep({variant:"destructive",title:"‚ùå Erreur",description:"Le motif de suspension est obligatoire"});if(!eh.dateFinSuspension)return void ep({variant:"destructive",title:"‚ùå Erreur",description:"La date de fin de suspension est obligatoire"});let s=new Date(eh.dateFinSuspension),t=new Date;if(t.setHours(0,0,0,0),s.setHours(0,0,0,0),s<=t)return void ep({variant:"destructive",title:"‚ö†Ô∏è Date invalide",description:"Vous ne pouvez pas saisir une date ant√©rieure ou √©gale √† aujourd'hui. La date de fin de suspension doit √™tre dans le futur.",duration:5e3});try{await k.employeeService.updateStatus(eh.employeeId,"SUSPENDU",{motifSuspension:eh.motif,dateFinSuspension:eh.dateFinSuspension});let s=Z.map(e=>e.id===eh.employeeId?{...e,status:"SUSPENDU",motifSuspension:eh.motif,dateFinSuspension:eh.dateFinSuspension}:e);$(s),ep({title:"‚úÖ Employ√© suspendu",description:"".concat(e.prenom," ").concat(e.nom," a √©t√© suspendu jusqu'au ").concat(new Date(eh.dateFinSuspension).toLocaleDateString("fr-FR"))}),ex(!1),eg({employeeId:"",motif:"",dateFinSuspension:""})}catch(e){ep({variant:"destructive",title:"‚ùå Erreur",description:e.message||"Impossible de suspendre l'employ√©"})}},eT=(0,t.useMemo)(()=>e=>{if(!e)return!1;let s=new Date(e);return!isNaN(s.getTime())&&ef>s},[ef]),eE=(0,t.useMemo)(()=>e=>{if(!e)return{diffDays:0,daysRemaining:0};let s=new Date(e);if(isNaN(s.getTime()))return{diffDays:0,daysRemaining:0};let t=Math.ceil((ef.getTime()-s.getTime())/864e5);return{diffDays:t,daysRemaining:30-t}},[ef]),eC=e=>"ACTIF"===e.status&&!e.hasBadge,eI=()=>{let e=Z.filter(eC).map(e=>e.id);ec.length===e.length?em([]):em(e)},eD=async()=>{if(0!==ec.length&&confirm("Vous allez transf√©rer ".concat(ec.length," employ√©(s) au service d'impression.\n\nContinuer ?")))try{let e=await Promise.allSettled(ec.map(e=>k.employeeService.transferToPrint(e))),s=e.filter(e=>"fulfilled"===e.status).length,t=e.filter(e=>"rejected"===e.status).length,a=Z.map(s=>{let t=ec.indexOf(s.id);return -1!==t&&"fulfilled"===e[t].status?{...s,hasBadge:!0,badgeStatus:"EN_ATTENTE"}:s});$(a),em([]),0===t?ep({title:"‚úÖ Transfert r√©ussi",description:"".concat(s," employ√©(s) ont √©t√© transf√©r√©s au service d'impression")}):ep({title:"‚ö†Ô∏è Transfert partiel",description:"".concat(s," r√©ussi(s), ").concat(t," √©chou√©(s)"),variant:s>0?"default":"destructive"})}catch(e){ep({variant:"destructive",title:"‚ùå Erreur",description:"Une erreur s'est produite lors du transfert"})}};return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:[(0,s.jsx)("header",{className:"border-b border-orange-100 bg-white/80 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:(0,s.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(F.default,{href:"/dashboard/rh",children:(0,s.jsxs)(a.Button,{variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed] gap-2",children:[(0,s.jsx)(x.Building2,{className:"w-5 h-5"}),"Retour au Dashboard"]})}),(0,s.jsx)("div",{className:"h-8 w-px bg-orange-200"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] bg-clip-text text-transparent",children:"Gestion des Employ√©s"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600 font-medium",children:[Z.length," employ√©(s) trouv√©(s)"]})]})]}),(0,s.jsx)(F.default,{href:"/dashboard/rh/employees/new",children:(0,s.jsxs)(a.Button,{size:"lg",className:"shadow-lg shadow-[#ff8d13]/20 gap-2 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13]",children:[(0,s.jsx)(u.UserPlus,{className:"w-5 h-5"}),"Nouvel Employ√©"]})})]})})}),(0,s.jsxs)("main",{className:"container mx-auto px-6 py-8 space-y-6",children:[(0,s.jsx)(l.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:(0,s.jsx)(l.CardContent,{className:"p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsx)(m.Search,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400 group-focus-within:text-[#ff8d13] transition-colors"}),(0,s.jsx)(r.Input,{placeholder:"Rechercher par nom, matricule...",value:z,onChange:e=>L(e.target.value),className:"pl-10 h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]})}),(0,s.jsx)("div",{children:(0,s.jsxs)(c.Select,{value:O,onValueChange:H,children:[(0,s.jsx)(c.SelectTrigger,{className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] rounded-xl",children:(0,s.jsx)(c.SelectValue,{placeholder:"Type"})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"TOUS",children:"Tous les types"}),(0,s.jsx)(c.SelectItem,{value:"PERSONNEL_DSD",children:"Personnel DSD"}),(0,s.jsx)(c.SelectItem,{value:"DNTT",children:"DNTT"}),(0,s.jsx)(c.SelectItem,{value:"STAGIAIRE_DSD",children:"Stagiaire DSD"}),(0,s.jsx)(c.SelectItem,{value:"BANQUE",children:"Banque"}),(0,s.jsx)(c.SelectItem,{value:"EMBOUTISSEUR",children:"Emboutisseur"}),(0,s.jsx)(c.SelectItem,{value:"DNTT_STAGIAIRE",children:"DNTT Stagiaire"}),(0,s.jsx)(c.SelectItem,{value:"DEMARCHEUR",children:"D√©marcheur"})]}),"                  "]})}),(0,s.jsx)("div",{children:(0,s.jsxs)(c.Select,{value:_,onValueChange:V,children:[(0,s.jsx)(c.SelectTrigger,{className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] rounded-xl",children:(0,s.jsx)(c.SelectValue,{placeholder:"Statut"})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"TOUS",children:"Tous les statuts"}),(0,s.jsx)(c.SelectItem,{value:"ACTIF",children:"Actifs"}),(0,s.jsx)(c.SelectItem,{value:"SUSPENDU",children:"Suspendus"}),(0,s.jsx)(c.SelectItem,{value:"TERMINE",children:"Termin√©s"})]})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Fin de contrat - Du"}),(0,s.jsx)(r.Input,{type:"date",value:K,onChange:e=>W(e.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Fin de contrat - Au"}),(0,s.jsx)(r.Input,{type:"date",value:J,onChange:e=>Y(e.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Profil"}),(0,s.jsx)(r.Input,{type:"text",placeholder:"Filtrer par profil...",value:q,onChange:e=>G(e.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Dipl√¥me"}),(0,s.jsx)(r.Input,{type:"text",placeholder:"Filtrer par dipl√¥me...",value:Q,onChange:e=>X(e.target.value),className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl"})]})]}),(K||J||q||Q)&&(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(a.Button,{variant:"outline",size:"sm",onClick:()=>{W(""),Y(""),G(""),X("")},className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:[(0,s.jsx)(y.X,{className:"w-4 h-4 mr-2"}),"R√©initialiser les filtres"]})})]})})}),(0,s.jsxs)(l.Card,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm overflow-hidden",children:[(0,s.jsxs)(l.CardHeader,{className:"bg-gradient-to-r from-orange-50/50 to-amber-50/50 border-b border-orange-100",children:[(0,s.jsx)(l.CardTitle,{className:"text-2xl font-bold text-gray-900",children:"Liste des Employ√©s"}),(0,s.jsx)(l.CardDescription,{className:"text-gray-600",children:"G√©rer et transf√©rer les employ√©s pour impression de badge"})]}),(0,s.jsxs)(l.CardContent,{className:"p-0",children:[(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(d.Table,{children:[(0,s.jsx)(d.TableHeader,{children:(0,s.jsxs)(d.TableRow,{className:"border-b border-orange-100 hover:bg-[#fff5ed]/50",children:[(0,s.jsx)(d.TableHead,{className:"w-12",children:(0,s.jsx)("button",{type:"button",onClick:()=>eI,className:"flex items-center justify-center w-full h-full p-2 hover:bg-orange-100 rounded transition-colors",title:ec.length>0?"D√©s√©lectionner tout":"S√©lectionner tout",children:ec.length>0?(0,s.jsx)(N,{className:"w-5 h-5 text-[#ff8d13]"}):(0,s.jsx)(v,{className:"w-5 h-5 text-gray-400"})})}),(0,s.jsx)(d.TableHead,{className:"font-bold text-gray-700",children:"Employ√©"}),(0,s.jsx)(d.TableHead,{className:"font-bold text-gray-700",children:"Contact"}),(0,s.jsx)(d.TableHead,{className:"font-bold text-gray-700",children:"Type"}),(0,s.jsx)(d.TableHead,{className:"font-bold text-gray-700",children:"Statut"}),(0,s.jsx)(d.TableHead,{className:"font-bold text-gray-700",children:"Date d'embauche"}),(0,s.jsx)(d.TableHead,{className:"font-bold text-gray-700",children:"Fin de contrat"}),(0,s.jsx)(d.TableHead,{className:"text-right font-bold text-gray-700",children:"Actions"})]})}),(0,s.jsx)(d.TableBody,{children:ee?(0,s.jsx)(d.TableRow,{children:(0,s.jsx)(d.TableCell,{colSpan:8,className:"text-center py-8",children:(0,s.jsxs)("div",{className:"flex justify-center items-center gap-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-orange-600 border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{className:"text-gray-600",children:"Chargement..."})]})})}):0===Z.length?(0,s.jsx)(d.TableRow,{children:(0,s.jsx)(d.TableCell,{colSpan:8,className:"text-center py-8 text-gray-500",children:"Aucun employ√© trouv√©"})}):Z.map(e=>(0,s.jsxs)(d.TableRow,{className:"border-b border-orange-50 hover:bg-[#fff5ed]/50 transition-colors",children:[(0,s.jsx)(d.TableCell,{children:(0,s.jsx)("button",{type:"button",onClick:()=>{var s;return s=e.id,void em(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s])},disabled:!eC(e),className:"flex items-center justify-center p-2 rounded transition-colors ".concat(eC(e)?"hover:bg-orange-100 cursor-pointer":"cursor-not-allowed opacity-40"),title:eC(e)?ec.includes(e.id)?"D√©s√©lectionner":"S√©lectionner":"Cet employ√© ne peut pas √™tre s√©lectionn√©",children:ec.includes(e.id)?(0,s.jsx)(N,{className:"w-5 h-5 text-[#ff8d13]"}):(0,s.jsx)(v,{className:"w-5 h-5 text-gray-400"})})}),(0,s.jsx)(d.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(n.Avatar,{className:"w-12 h-12 ring-2 ring-orange-200",children:[e.photo&&(0,o.getImageUrl)(e.photo)?(0,s.jsx)(n.AvatarImage,{src:(0,o.getImageUrl)(e.photo)||"",alt:"".concat(e.prenom," ").concat(e.nom)}):null,(0,s.jsxs)(n.AvatarFallback,{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white font-bold text-sm",children:[e.prenom[0],e.nom[0]]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-bold text-gray-900",children:[e.prenom," ",e.nom]}),(0,s.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:e.matricule})]})]})}),(0,s.jsx)(d.TableCell,{children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-700",children:e.telephone}),e.email&&(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.email})]})}),(0,s.jsx)(d.TableCell,{children:((e,t)=>{let a={PERSONNELS_DSD:"Personnels DSD",DNTT:"DNTT",STAGIAIRES_DSD:"Stagiaires DSD",BANQUES:"Banque",MAISONS_PLAQUE:"Emboutisseur",DNTT_STAGIAIRES:"DNTT Stagiaires",DEMARCHEURS:"D√©marcheurs"}[e]||e,r=t?"".concat(a," ").concat(t):a;return(0,s.jsx)(i.Badge,{className:"".concat({PERSONNELS_DSD:"bg-[#ff8d13]",DNTT:"bg-blue-600",STAGIAIRES_DSD:"bg-green-600",BANQUES:"bg-purple-600",MAISONS_PLAQUE:"bg-pink-600",DNTT_STAGIAIRES:"bg-teal-600",DEMARCHEURS:"bg-amber-600"}[e]||"bg-gray-600"," text-white font-semibold"),children:r})})(e.type,e.sousType)}),(0,s.jsx)(d.TableCell,{children:(e=>{let t={ACTIF:{label:"Actif",className:"bg-green-500 text-white font-semibold"},SUSPENDU:{label:"Suspendu",className:"bg-orange-500 text-white font-semibold"},TERMINE:{label:"Termin√©",className:"bg-gray-500 text-white font-semibold"}},a=t[e]||t.TERMINE;return(0,s.jsx)(i.Badge,{className:a.className,children:a.label})})(e.status)}),(0,s.jsx)(d.TableCell,{className:"text-sm font-medium text-gray-700",children:eb(e.dateEmbauche)}),(0,s.jsx)(d.TableCell,{className:"text-sm font-medium text-gray-700",children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.dateFinContrat?eb(e.dateFinContrat):"N/A",e.dateFinContrat&&eT(e.dateFinContrat)&&"TERMINE"!==e.status&&(()=>{let{daysRemaining:t}=eE(e.dateFinContrat);return(0,s.jsxs)(i.Badge,{className:"bg-red-600 text-white font-semibold gap-1 flex items-center text-xs",children:[(0,s.jsx)(j.AlertTriangle,{className:"w-3 h-3"}),"Expir√©"]})})()]}),e.dateFinContrat&&eT(e.dateFinContrat)&&"TERMINE"!==e.status&&(()=>{let{daysRemaining:t}=eE(e.dateFinContrat);if(t>0)return(0,s.jsxs)("p",{className:"text-xs text-[#ff8d13] font-medium",children:["Auto-termin√© dans ",t,"j"]})})()]})}),(0,s.jsx)(d.TableCell,{children:(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2",children:["ACTIF"===e.status&&!e.hasBadge&&(0,s.jsxs)(a.Button,{size:"sm",className:"gap-2 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13] shadow-md",onClick:()=>eN(e.id),children:[(0,s.jsx)(g,{className:"w-4 h-4"}),"Transf√©rer"]}),e.hasBadge&&"EN_ATTENTE"===e.badgeStatus&&(0,s.jsx)(i.Badge,{className:"bg-orange-500 text-white font-semibold",children:"En attente d'impression"}),e.hasBadge&&"IMPRIME"===e.badgeStatus&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Badge,{className:"bg-green-600 text-white font-semibold",children:1===e.printCount?"Badge imprim√©":2===e.printCount?"Badge r√©imprim√©":"Badge r√©imprim√©(".concat((e.printCount||2)-2,")")}),(0,s.jsxs)(a.Button,{size:"sm",variant:"outline",className:"gap-2 border-blue-200 hover:bg-blue-50 text-blue-600",onClick:()=>ev(e),children:[(0,s.jsx)(g,{className:"w-4 h-4"}),"Renvoyer pour r√©impression"]})]}),e.hasBadge&&"REIMPRESSION"===e.badgeStatus&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Badge,{className:"bg-blue-600 text-white font-semibold",children:"Autoris√© pour r√©impression"}),(0,s.jsxs)(a.Button,{size:"sm",variant:"outline",className:"gap-2 border-blue-200 hover:bg-blue-50 text-blue-600",onClick:()=>ev(e),children:[(0,s.jsx)(g,{className:"w-4 h-4"}),"Renvoyer √† nouveau"]})]}),(0,s.jsxs)(C.DropdownMenu,{children:[(0,s.jsx)(C.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsxs)(a.Button,{size:"sm",variant:"outline",className:"border-purple-200 hover:bg-purple-50 hover:border-purple-300 gap-2 transition-all shadow-sm hover:shadow-md",children:[(0,s.jsx)(S,{className:"w-4 h-4 text-purple-600"}),(0,s.jsx)("span",{className:"font-semibold",children:"Statut"})]})}),(0,s.jsxs)(C.DropdownMenuContent,{align:"end",className:"w-64 p-2 shadow-2xl border-2 border-gray-200 bg-white",children:[(0,s.jsx)(C.DropdownMenuLabel,{className:"text-center text-lg font-bold text-gray-800 py-3 border-b-2 border-gray-200",children:"Modifier le Statut"}),(0,s.jsxs)("div",{className:"py-2 space-y-1",children:[(0,s.jsx)(C.DropdownMenuItem,{onClick:()=>eS(e.id,"ACTIF"),disabled:"ACTIF"===e.status,className:"cursor-pointer p-3 rounded-lg transition-all ".concat("ACTIF"===e.status?"bg-green-50 border-2 border-green-500 opacity-60 cursor-not-allowed":"hover:bg-green-50 hover:border-2 hover:border-green-300 border-2 border-transparent"),children:(0,s.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:(0,s.jsx)(w.CheckCircle,{className:"w-5 h-5 text-green-600"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900",children:"Actif"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Employ√© en activit√©"})]}),"ACTIF"===e.status&&(0,s.jsx)(i.Badge,{className:"bg-green-500 text-white text-xs",children:"Actuel"})]})}),(0,s.jsx)(C.DropdownMenuItem,{onClick:()=>eS(e.id,"SUSPENDU"),disabled:"SUSPENDU"===e.status,className:"cursor-pointer p-3 rounded-lg transition-all ".concat("SUSPENDU"===e.status?"bg-orange-50 border-2 border-orange-500 opacity-60 cursor-not-allowed":"hover:bg-orange-50 hover:border-2 hover:border-orange-300 border-2 border-transparent"),children:(0,s.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center",children:(0,s.jsx)(T.Ban,{className:"w-5 h-5 text-orange-600"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900",children:"Suspendu"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Suspension temporaire"})]}),"SUSPENDU"===e.status&&(0,s.jsx)(i.Badge,{className:"bg-orange-500 text-white text-xs",children:"Actuel"})]})}),(0,s.jsx)(C.DropdownMenuItem,{onClick:()=>eS(e.id,"TERMINE"),disabled:"TERMINE"===e.status,className:"cursor-pointer p-3 rounded-lg transition-all ".concat("TERMINE"===e.status?"bg-gray-50 border-2 border-gray-400 opacity-60 cursor-not-allowed":"hover:bg-gray-50 hover:border-2 hover:border-gray-300 border-2 border-transparent"),children:(0,s.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center",children:(0,s.jsx)(E.XCircle,{className:"w-5 h-5 text-gray-600"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900",children:"Termin√©"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Fin de contrat"})]}),"TERMINE"===e.status&&(0,s.jsx)(i.Badge,{className:"bg-gray-500 text-white text-xs",children:"Actuel"})]})})]})]})]}),(0,s.jsx)(F.default,{href:"/dashboard/rh/employees/".concat(e.id),children:(0,s.jsxs)(a.Button,{size:"sm",variant:"outline",className:"border-blue-200 hover:bg-blue-50 gap-2",children:[(0,s.jsx)(b.Eye,{className:"w-4 h-4 text-blue-600"}),"Voir"]})}),(0,s.jsx)(F.default,{href:"/dashboard/rh/employees/".concat(e.id,"/edit"),children:(0,s.jsxs)(a.Button,{size:"sm",variant:"outline",className:"border-[#fed7aa] hover:bg-[#fff5ed] gap-2",children:[(0,s.jsx)(p.Edit,{className:"w-4 h-4"}),"Modifier"]})}),(null==A?void 0:A.role)!=="ASSISTANT_RH"&&(0,s.jsxs)(a.Button,{size:"sm",variant:"outline",className:"border-red-200 text-red-600 hover:bg-red-50 gap-2",onClick:()=>ey(e.id),children:[(0,s.jsx)(f.Trash2,{className:"w-4 h-4"}),"Supprimer"]})]})})]},e.id))})]})}),!ee&&Z.length>0&&(0,s.jsxs)("div",{className:"mt-6 flex items-center justify-between border-t border-orange-100 pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-900",children:ei})," employ√©(s) au total"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{className:"text-sm text-gray-600",children:"Afficher:"}),(0,s.jsxs)(c.Select,{value:eo.toString(),onValueChange:e=>{ed(Number(e)),ea(1)},children:[(0,s.jsx)(c.SelectTrigger,{className:"h-9 w-20 border-[#fed7aa]",children:(0,s.jsx)(c.SelectValue,{})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"10",children:"10"}),(0,s.jsx)(c.SelectItem,{value:"25",children:"25"}),(0,s.jsx)(c.SelectItem,{value:"50",children:"50"}),(0,s.jsx)(c.SelectItem,{value:"100",children:"100"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.Button,{variant:"outline",size:"sm",onClick:()=>ea(e=>Math.max(1,e-1)),disabled:1===et,className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:"Pr√©c√©dent"}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,er)},(e,t)=>{let r;return r=er<=5||et<=3?t+1:et>=er-2?er-4+t:et-2+t,(0,s.jsx)(a.Button,{variant:et===r?"default":"outline",size:"sm",onClick:()=>ea(r),className:et===r?"bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13]":"border-[#fed7aa] hover:bg-[#fff5ed]",children:r},"page-".concat(r))})}),(0,s.jsx)(a.Button,{variant:"outline",size:"sm",onClick:()=>ea(e=>Math.min(er,e+1)),disabled:et===er,className:"border-[#fed7aa] hover:bg-[#fff5ed]",children:"Suivant"})]})]})]})]}),ec.length>0&&(0,s.jsx)("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 z-50 animate-in slide-in-from-bottom-5",children:(0,s.jsx)(l.Card,{className:"shadow-2xl border-2 border-orange-500 bg-white",children:(0,s.jsx)(l.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,s.jsx)(N,{className:"w-5 h-5 text-[#ff8d13]"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"font-bold text-gray-900",children:[ec.length," employ√©",ec.length>1?"s":""," s√©lectionn√©",ec.length>1?"s":""]}),(0,s.jsxs)("p",{className:"text-xs text-gray-600",children:["Pr√™t",ec.length>1?"s":""," pour le transfert"]})]})]}),(0,s.jsx)("div",{className:"h-10 w-px bg-gray-300"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(a.Button,{size:"sm",variant:"outline",className:"gap-2 border-gray-300 hover:bg-gray-50",onClick:()=>em([]),children:[(0,s.jsx)(y.X,{className:"w-4 h-4"}),"Annuler"]}),(0,s.jsxs)(a.Button,{size:"sm",className:"gap-2 bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13] shadow-lg",onClick:()=>eD(),children:[(0,s.jsx)(g,{className:"w-4 h-4"}),"Transf√©rer la s√©lection"]})]})]})})})})]}),(0,s.jsx)(I.Dialog,{open:eu,onOpenChange:ex,children:(0,s.jsxs)(I.DialogContent,{className:"sm:max-w-[550px] p-0 overflow-hidden",children:[(0,s.jsx)("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-6 py-5 text-white",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm flex-shrink-0",children:(0,s.jsx)(T.Ban,{className:"w-7 h-7"})}),(0,s.jsxs)("div",{className:"flex-1 pt-1",children:[(0,s.jsx)(I.DialogTitle,{className:"text-2xl font-bold mb-1.5 leading-tight",children:"Suspension d'Employ√©"}),(0,s.jsx)(I.DialogDescription,{className:"text-orange-50 text-sm font-medium",children:Z.find(e=>e.id===eh.employeeId)?"".concat(null==(e=Z.find(e=>e.id===eh.employeeId))?void 0:e.prenom," ").concat(null==(h=Z.find(e=>e.id===eh.employeeId))?void 0:h.nom):"Employ√© s√©lectionn√©"})]})]})}),(0,s.jsxs)("div",{className:"px-6 py-6 space-y-6 bg-white",children:[(0,s.jsx)("div",{className:"bg-blue-50 border-2 border-blue-200 p-4 rounded-xl",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"w-9 h-9 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(j.AlertTriangle,{className:"w-4 h-4 text-white"})}),(0,s.jsxs)("div",{className:"flex-1 pt-0.5",children:[(0,s.jsx)("p",{className:"font-bold text-blue-900 text-sm mb-1.5",children:"√Ä savoir"}),(0,s.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1 leading-relaxed",children:[(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-500 mt-0.5",children:"‚Ä¢"}),(0,s.jsx)("span",{children:"La suspension peut √™tre appliqu√©e m√™me si le badge est d√©j√† imprim√©"})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-500 mt-0.5",children:"‚Ä¢"}),(0,s.jsx)("span",{children:"L'employ√© sera automatiquement r√©activ√© √† la date indiqu√©e"})]}),(0,s.jsxs)("li",{className:"flex items-start gap-2",children:[(0,s.jsx)("span",{className:"text-blue-500 mt-0.5",children:"‚Ä¢"}),(0,s.jsx)("span",{children:"Le motif sera enregistr√© dans le dossier de l'employ√©"})]})]})]})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2.5 mb-2",children:[(0,s.jsx)("div",{className:"w-7 h-7 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xs flex-shrink-0",children:"1"}),(0,s.jsxs)(D.Label,{htmlFor:"motif",className:"text-base font-bold text-gray-900",children:["Motif de la suspension ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]})]}),(0,s.jsx)(R,{id:"motif",placeholder:"Exemple : Absence injustifi√©e r√©p√©t√©e  D√©crivez ici le motif d√©taill√© de la suspension...",value:eh.motif,onChange:e=>eg({...eh,motif:e.target.value}),className:"min-h-[120px] border-2 border-gray-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 rounded-xl text-sm resize-none p-3 leading-relaxed"})]}),(0,s.jsxs)("div",{className:"space-y-2.5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2.5 mb-2",children:[(0,s.jsx)("div",{className:"w-7 h-7 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xs flex-shrink-0",children:"2"}),(0,s.jsxs)(D.Label,{htmlFor:"dateFinSuspension",className:"text-base font-bold text-gray-900",children:["Date de fin de suspension ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]})]}),(0,s.jsx)(r.Input,{id:"dateFinSuspension",type:"date",value:eh.dateFinSuspension,onChange:e=>eg({...eh,dateFinSuspension:e.target.value}),className:"h-12 border-2 border-gray-300 focus:border-orange-500 focus:ring-4 focus:ring-orange-500/20 rounded-xl text-sm px-3",min:new Date().toISOString().split("T")[0]}),eh.dateFinSuspension&&(0,s.jsx)("div",{className:"bg-green-50 border-2 border-green-300 rounded-xl p-3 mt-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,s.jsx)("div",{className:"w-9 h-9 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0",children:(0,s.jsx)(w.CheckCircle,{className:"w-4 h-4 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-xs text-green-700 font-medium mb-0.5",children:"R√©activation automatique"}),(0,s.jsx)("p",{className:"text-sm text-green-900 font-bold",children:new Date(eh.dateFinSuspension).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})})]})]})]}),(0,s.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t-2 border-gray-200",children:(0,s.jsxs)("div",{className:"flex gap-2.5",children:[(0,s.jsxs)(a.Button,{type:"button",variant:"outline",onClick:()=>{ex(!1),eg({employeeId:"",motif:"",dateFinSuspension:""})},className:"flex-1 h-10 border-2 border-gray-300 hover:bg-gray-100 font-semibold text-xs rounded-lg",children:[(0,s.jsx)(y.X,{className:"w-3.5 h-3.5 mr-1.5"}),"Annuler"]}),(0,s.jsxs)(a.Button,{type:"button",onClick:ew,className:"flex-1 h-10 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold text-xs shadow-lg shadow-orange-500/30 rounded-lg",children:[(0,s.jsx)(T.Ban,{className:"w-3.5 h-3.5 mr-1.5"}),"Confirmer"]})]})})]})})]})}}]);