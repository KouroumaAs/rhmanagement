(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87311,e=>{"use strict";e.s(["ArrowLeft",()=>t],87311);let t=(0,e.i(30284).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},45082,e=>{"use strict";e.s(["Label",()=>o],45082);var t=e.i(50622),r=e.i(17257),a=e.i(36193),s=r.forwardRef((e,r)=>(0,t.jsx)(a.Primitive.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=e.i(34821);function o(e){let{className:r,...a}=e;return(0,t.jsx)(s,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...a})}},49505,e=>{"use strict";e.s(["Input",()=>a]);var t=e.i(50622),r=e.i(34821);function a(e){let{className:a,type:s,...i}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-[#ff8d13] selection:text-white dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","select-text cursor-text",a),style:{userSelect:"text",WebkitUserSelect:"text"},...i})}},72438,e=>{"use strict";e.s(["useToast",()=>d]);var t=e.i(17257);let r=0,a=new Map,s=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},i=[],o={toasts:[]};function l(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?s(r):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),i.forEach(e=>{e(o)})}function n(e){let{...t}=e,a=(r=(r+1)%Number.MAX_VALUE).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function d(){let[e,r]=t.useState(o);return t.useEffect(()=>(i.push(r),()=>{let e=i.indexOf(r);e>-1&&i.splice(e,1)}),[e]),{...e,toast:n,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},25030,e=>{"use strict";e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>o,"CardHeader",()=>s,"CardTitle",()=>i]);var t=e.i(50622),r=e.i(34821);function a(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...s})}function s(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function i(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...s})}function o(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...s})}function l(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...s})}},36193,e=>{"use strict";e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>o]);var t=e.i(17257),r=e.i(49700),a=e.i(93044),s=e.i(50622),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let i=(0,a.createSlot)("Primitive.".concat(r)),o=t.forwardRef((e,t)=>{let{asChild:a,...o}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(a?i:r,{...o,ref:t})});return o.displayName="Primitive.".concat(r),{...e,[r]:o}},{});function o(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}},82425,e=>{"use strict";e.s(["Save",()=>t],82425);let t=(0,e.i(30284).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},95459,e=>{"use strict";e.s(["default",()=>f]);var t=e.i(50622),r=e.i(17257),a=e.i(67493),s=e.i(96382),i=e.i(49505),o=e.i(45082),l=e.i(25030),n=e.i(78075),d=e.i(87311),c=e.i(82425),u=e.i(10101),m=e.i(72438);function f(){let e=(0,a.useParams)(),f=(0,a.useRouter)(),[h,x]=(0,r.useState)(!1),[p,g]=(0,r.useState)(!0),{toast:b}=(0,m.useToast)(),[v,j]=(0,r.useState)({nom:"",prenom:"",email:"",telephone:"",role:"RH"});(0,r.useEffect)(()=>{y()},[]);let y=async()=>{try{g(!0);let t=localStorage.getItem("token"),r=await fetch("http://localhost:5000/api/auth/users",{headers:{Authorization:"Bearer ".concat(t)}});if(!r.ok)throw Error("Erreur lors du chargement");let a=((await r.json()).data||[]).find(t=>t.id===e.id);if(!a)throw Error("Utilisateur non trouvé");j({nom:a.nom||"",prenom:a.prenom||"",email:a.email||"",telephone:a.telephone||"",role:a.role||"RH"})}catch(e){console.error("Erreur chargement utilisateur:",e),b({variant:"destructive",title:"Erreur",description:e.message||"Impossible de charger l'utilisateur"}),f.push("/dashboard/rh/users")}finally{g(!1)}},N=async t=>{t.preventDefault(),x(!0);try{let t=localStorage.getItem("token"),r=await fetch("http://localhost:5000/api/auth/users/".concat(e.id),{method:"PUT",headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(v)});if(!r.ok){let e=await r.json();throw Error(e.message||"Erreur lors de la modification")}b({title:"✅ Utilisateur modifié",description:"Les modifications ont été enregistrées avec succès"}),f.push("/dashboard/rh/users")}catch(e){console.error("Erreur:",e),b({variant:"destructive",title:"Erreur de modification",description:e.message||"Impossible de modifier l'utilisateur"})}finally{x(!1)}};return p?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-[#ff8d13] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-orange-50",children:[(0,t.jsx)("header",{className:"border-b border-[#fff5ed] bg-white/80 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:(0,t.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.default,{href:"/dashboard/rh/users",children:(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",className:"hover:bg-[#fff5ed]",children:(0,t.jsx)(d.ArrowLeft,{className:"w-5 h-5"})})}),(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] rounded-2xl flex items-center justify-center shadow-lg shadow-orange-500/30",children:(0,t.jsx)(c.Save,{className:"w-6 h-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] bg-clip-text text-transparent",children:"Modifier l'Utilisateur"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Mettre à jour les informations de l'utilisateur"})]})]})})}),(0,t.jsx)("main",{className:"container mx-auto px-6 py-8 max-w-4xl",children:(0,t.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,t.jsxs)(l.Card,{className:"shadow-xl border-0 bg-white",children:[(0,t.jsxs)(l.CardHeader,{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b border-[#fff5ed]",children:[(0,t.jsx)(l.CardTitle,{className:"text-xl font-bold text-gray-900",children:"Informations Personnelles"}),(0,t.jsx)(l.CardDescription,{className:"text-gray-600",children:"Détails de l'identité de l'utilisateur"})]}),(0,t.jsx)(l.CardContent,{className:"p-6 space-y-5",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"prenom",className:"text-sm font-semibold text-gray-700",children:"Prénom *"}),(0,t.jsx)(i.Input,{id:"prenom",value:v.prenom,onChange:e=>j({...v,prenom:e.target.value}),placeholder:"Ex: Amadou",className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"nom",className:"text-sm font-semibold text-gray-700",children:"Nom *"}),(0,t.jsx)(i.Input,{id:"nom",value:v.nom,onChange:e=>j({...v,nom:e.target.value}),placeholder:"Ex: Diallo",className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl",required:!0})]})]})})]}),(0,t.jsxs)(l.Card,{className:"shadow-xl border-0 bg-white",children:[(0,t.jsxs)(l.CardHeader,{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b border-[#fff5ed]",children:[(0,t.jsx)(l.CardTitle,{className:"text-xl font-bold text-gray-900",children:"Informations de Contact"}),(0,t.jsx)(l.CardDescription,{className:"text-gray-600",children:"Moyens de communication avec l'utilisateur"})]}),(0,t.jsxs)(l.CardContent,{className:"p-6 space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"email",className:"text-sm font-semibold text-gray-700",children:"Adresse Email *"}),(0,t.jsx)(i.Input,{id:"email",type:"email",value:v.email,onChange:e=>j({...v,email:e.target.value}),placeholder:"exemple@entreprise.com",className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"telephone",className:"text-sm font-semibold text-gray-700",children:"Téléphone *"}),(0,t.jsx)(i.Input,{id:"telephone",type:"tel",value:v.telephone,onChange:e=>j({...v,telephone:e.target.value}),placeholder:"6xx xx xx xx ou +224 6xx xx xx xx",className:"h-11 border-2 border-gray-200 focus:border-[#ff8d13] focus:ring-4 focus:ring-[#ff8d13]/10 transition-all rounded-xl",required:!0})]})]})]}),(0,t.jsxs)(l.Card,{className:"shadow-xl border-0 bg-white",children:[(0,t.jsxs)(l.CardHeader,{className:"bg-gradient-to-r from-orange-50 to-amber-50 border-b border-[#fff5ed]",children:[(0,t.jsx)(l.CardTitle,{className:"text-xl font-bold text-gray-900",children:"Rôle et Permissions"}),(0,t.jsx)(l.CardDescription,{className:"text-gray-600",children:"Niveau d'accès de l'utilisateur dans le système"})]}),(0,t.jsx)(l.CardContent,{className:"p-6 space-y-5",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o.Label,{htmlFor:"role",className:"text-sm font-semibold text-gray-700",children:"Rôle *"}),(0,t.jsxs)(n.Select,{value:v.role,onValueChange:e=>j({...v,role:e}),children:[(0,t.jsx)(n.SelectTrigger,{className:"h-11 w-full border-2 border-gray-200 focus:border-[#ff8d13] rounded-xl bg-white text-gray-900 font-medium",children:(0,t.jsx)(n.SelectValue,{placeholder:"Sélectionner un rôle"})}),(0,t.jsxs)(n.SelectContent,{className:"bg-white border-2 border-gray-200 shadow-2xl z-50",children:[(0,t.jsx)(n.SelectItem,{value:"RH",className:"text-gray-900 hover:bg-[#fff5ed] cursor-pointer",children:"Ressources Humaines"}),(0,t.jsx)(n.SelectItem,{value:"IMPRESSION",className:"text-gray-900 hover:bg-[#fff5ed] cursor-pointer",children:"Service d'Impression"}),(0,t.jsx)(n.SelectItem,{value:"ADMIN",className:"text-gray-900 hover:bg-[#fff5ed] cursor-pointer",children:"Administrateur"})]})]})]})})]}),(0,t.jsx)(l.Card,{className:"shadow-xl border-0 bg-gradient-to-r from-orange-50 to-amber-50",children:(0,t.jsx)(l.CardContent,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("span",{className:"text-red-500",children:"*"})," Champs obligatoires"]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(u.default,{href:"/dashboard/rh/users",children:(0,t.jsx)(s.Button,{type:"button",variant:"outline",className:"border-2",children:"Annuler"})}),(0,t.jsx)(s.Button,{type:"submit",disabled:h,className:"bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13] shadow-lg shadow-[#ff8d13]/30 gap-2 min-w-[160px]",children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Enregistrement..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Save,{className:"w-4 h-4"}),"Enregistrer"]})})]})]})})})]})})]})}}]);