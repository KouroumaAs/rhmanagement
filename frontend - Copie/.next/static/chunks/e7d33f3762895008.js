(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63712,e=>{"use strict";e.s(["Mail",()=>t],63712);let t=(0,e.i(30284).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},22976,e=>{"use strict";e.s(["Building2",()=>t],22976);let t=(0,e.i(30284).default)("building-2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},22607,e=>{"use strict";e.s(["Lock",()=>t],22607);let t=(0,e.i(30284).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},18326,e=>{"use strict";e.s(["API_ENDPOINTS",()=>t,"VALIDATION",()=>s,"getImageUrl",()=>r]);let t={AUTH:{LOGIN:"/auth/login",REGISTER:"/auth/register",LOGOUT:"/auth/logout",RESET_PASSWORD:"/auth/reset-password",CHANGE_PASSWORD:"/auth/change-password",STATS:"/auth/stats",USERS:"/auth/users"},EMPLOYEES:"/employees",EMPLOYEE_BY_ID:e=>"/employees/".concat(e),EMPLOYEE_STATS:"/employees/stats",BADGES:"/badges",BADGE_BY_ID:e=>"/badges/".concat(e),BADGE_STATS:"/badges/stats",PRINT_BADGE:e=>"/badges/".concat(e,"/print"),USERS:"/users",USER_PROFILE:"/users/me"},s={MIN_PASSWORD_LENGTH:8,PHONE_REGEX:/^(\+224\s?)?6\d{2}(\s?\d{2}){3}$/,EMAIL_REGEX:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,MATRICULE_REGEX:/.{3,}/},r=e=>{if(!e)return null;if(e.startsWith("http"))return e;let t=e.startsWith("/")?e.slice(1):e;return"".concat("http://192.168.100.171:4003/api","/").concat(t)}},40267,e=>{"use strict";function t(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}e.s(["authService",()=>d,"del",()=>l,"get",()=>o,"handleApiError",()=>c,"post",()=>i,"put",()=>n],40267);var s=e.i(18326);class r extends Error{getUserMessage(){switch(this.status){case 400:return"‚ùå Erreur de validation: ".concat(this.message);case 401:return"üîí Session expir√©e. Veuillez vous reconnecter.";case 403:return"‚õî Acc√®s refus√©. Vous n'avez pas les permissions n√©cessaires.";case 404:return"üîç Ressource non trouv√©e: ".concat(this.message);case 409:return"‚ö†Ô∏è Conflit: ".concat(this.message);case 422:return"üìã Donn√©es invalides: ".concat(this.message);case 500:return"üî• Erreur serveur: ".concat(this.message);case 503:return"‚è∏Ô∏è Service temporairement indisponible. R√©essayez plus tard.";default:return"‚ùå ".concat(this.message)}}getDebugInfo(){return"[".concat(this.status,"] ").concat(this.name,": ").concat(this.message,"\nData: ").concat(JSON.stringify(this.data,null,2))}constructor(e,s,r){super(s),t(this,"status",void 0),t(this,"message",void 0),t(this,"data",void 0),this.status=e,this.message=s,this.data=r,this.name="ApiError"}}async function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let s=localStorage.getItem("token")||localStorage.getItem("auth_token");console.log("üåê API Request: ".concat(t.method||"GET"," ").concat(e));let a=new AbortController,o=setTimeout(()=>a.abort(),3e4);try{let i,n=await fetch("".concat("http://192.168.100.171:4003/api").concat(e),{...t,cache:"no-store",headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{},...t.headers},signal:a.signal});clearTimeout(o);try{i=await n.json()}catch(e){throw console.error("‚ùå Erreur de parsing JSON:",e),new r(n.status,"R√©ponse du serveur invalide",{parseError:e,status:n.status})}if(!n.ok){let e=i.message||"Une erreur est survenue";i.errors&&Array.isArray(i.errors)&&(e=i.errors.map(e=>e.message||e).join(", "));let t=new r(n.status,e,i);throw console.error("‚ùå API Error:",t.getDebugInfo()),t}console.log("‚úÖ API Success: ".concat(t.method||"GET"," ").concat(e));let{success:l,...c}=i;return{success:null==l||l,...c}}catch(e){if(clearTimeout(o),e instanceof Error&&"AbortError"===e.name){let e=new r(408,"La requ√™te a pris trop de temps (timeout apr√®s 30 secondes)");throw console.error("‚è±Ô∏è Timeout Error:",e.getDebugInfo()),e}throw e}}catch(t){if(t instanceof r)throw t;let e=new r(0,t instanceof Error?t.message:"Erreur de connexion au serveur");throw console.error("‚ùå Network Error:",e.getDebugInfo()),e}}async function o(e,t){return a(e,{...t,method:"GET"})}async function i(e,t,s){return a(e,{...s,method:"POST",body:JSON.stringify(t)})}async function n(e,t,s){return a(e,{...s,method:"PUT",body:JSON.stringify(t)})}async function l(e,t){return a(e,{...t,method:"DELETE"})}function c(e){return e instanceof r?e.getUserMessage():(null==e?void 0:e.message)||"Une erreur inattendue est survenue"}let d={login:async e=>i(s.API_ENDPOINTS.AUTH.LOGIN,e),register:async e=>i(s.API_ENDPOINTS.AUTH.REGISTER,e),logout:async()=>i(s.API_ENDPOINTS.AUTH.LOGOUT),changePassword:async e=>{let t=localStorage.getItem("token");return n(s.API_ENDPOINTS.AUTH.CHANGE_PASSWORD,e,{headers:{Authorization:"Bearer ".concat(t)}})}}},45082,e=>{"use strict";e.s(["Label",()=>i],45082);var t=e.i(50622),s=e.i(17257),r=e.i(36193),a=s.forwardRef((e,s)=>(0,t.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var o=e.i(34821);function i(e){let{className:s,...r}=e;return(0,t.jsx)(a,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}},49505,e=>{"use strict";e.s(["Input",()=>r]);var t=e.i(50622),s=e.i(34821);function r(e){let{className:r,type:a,...o}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-[#ff8d13] selection:text-white dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive","select-text cursor-text",r),style:{userSelect:"text",WebkitUserSelect:"text"},...o})}},72438,e=>{"use strict";e.s(["useToast",()=>c]);var t=e.i(17257);let s=0,r=new Map,a=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},o=[],i={toasts:[]};function n(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?a(s):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),o.forEach(e=>{e(i)})}function l(e){let{...t}=e,r=(s=(s+1)%Number.MAX_VALUE).toString(),a=()=>n({type:"DISMISS_TOAST",toastId:r});return n({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function c(){let[e,s]=t.useState(i);return t.useEffect(()=>(o.push(s),()=>{let e=o.indexOf(s);e>-1&&o.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>n({type:"DISMISS_TOAST",toastId:e})}}},25030,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>n,"CardDescription",()=>i,"CardHeader",()=>a,"CardTitle",()=>o]);var t=e.i(50622),s=e.i(34821);function r(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...a})}function a(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...a})}function o(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",r),...a})}function i(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",r),...a})}function n(e){let{className:r,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",r),...a})}},36193,e=>{"use strict";e.s(["Primitive",()=>o,"dispatchDiscreteCustomEvent",()=>i]);var t=e.i(17257),s=e.i(49700),r=e.i(93044),a=e.i(50622),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let o=(0,r.createSlot)("Primitive.".concat(s)),i=t.forwardRef((e,t)=>{let{asChild:r,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(r?o:s,{...i,ref:t})});return i.displayName="Primitive.".concat(s),{...e,[s]:i}},{});function i(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}},45042,e=>{"use strict";e.s(["Eye",()=>t],45042);let t=(0,e.i(30284).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},81214,e=>{"use strict";e.s(["EyeOff",()=>t],81214);let t=(0,e.i(30284).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},17882,62613,e=>{"use strict";e.s(["ShieldCheck",()=>s],17882);var t=e.i(30284);let s=(0,t.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["Sparkles",()=>r],62613);let r=(0,t.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},17306,e=>{"use strict";e.s(["default",()=>b]);var t=e.i(50622),s=e.i(17257),r=e.i(67493),a=e.i(96382),o=e.i(49505),i=e.i(45082),n=e.i(25030),l=e.i(22976),c=e.i(22607),d=e.i(63712),u=e.i(17882),f=e.i(62613),h=e.i(45042),m=e.i(81214),p=e.i(40267),g=e.i(72438),x=e.i(65497);function b(){let[e,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)("admin@gmail.com"),[w,S]=(0,s.useState)("Ma123456"),[E,N]=(0,s.useState)(!1),[T,A]=(0,s.useState)(!1),[j,I]=(0,s.useState)(""),k=(0,r.useRouter)(),{toast:O}=(0,g.useToast)(),{login:M,isAuthenticated:D,user:R}=(0,x.useAuth)();(0,s.useEffect)(()=>{b(!0)},[]),(0,s.useEffect)(()=>{if(D&&R){let e="/dashboard/rh";"ADMIN"===R.role||"RH"===R.role||"ASSISTANT_RH"===R.role?e="/dashboard/rh":"IMPRESSION"===R.role?e="/dashboard/impression":"SECURITY"===R.role&&(e="/dashboard/security/scan"),k.push(e)}},[D,R,k]);let P=async e=>{e.preventDefault(),N(!0),I("");try{let e=await p.authService.login({email:y,password:w});if(console.log("R√©ponse login:",e),e.success){let t=e.data,s=(null==t?void 0:t.data)||t;if(console.log("User data:",s),s.token&&s.user){let e=s.user.role;console.log("Redirection pour le r√¥le:",e);let t="/dashboard/rh";"ADMIN"===e||"RH"===e||"ASSISTANT_RH"===e?t="/dashboard/rh":"IMPRESSION"===e?t="/dashboard/impression":"SECURITY"===e&&(t="/dashboard/security/scan"),localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),document.cookie="token=".concat(s.token,"; path=/; max-age=").concat(604800),M(s.token,s.user),O({title:"Connexion r√©ussie",description:"Bienvenue ".concat(s.user.prenom," ").concat(s.user.nom)}),setTimeout(()=>{window.location.href=t},100)}else console.error("Token ou user manquant:",s)}}catch(e){console.error("‚ùå Login error:",e),I("Identifiant ou mot de passe incorrect"),O({variant:"destructive",title:"Erreur de connexion",description:"Identifiant ou mot de passe incorrect"})}finally{N(!1)}};return e?(0,t.jsxs)("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-white",children:(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center overflow-hidden",children:(0,t.jsx)("div",{className:"text-[28rem] font-black select-none tracking-wider",style:{color:"rgba(255, 141, 19, 0.08)"},children:"DSD"})})}),(0,t.jsx)(n.Card,{className:"w-full max-w-md relative z-10 border-0 shadow-2xl bg-white/95 backdrop-blur-xl",children:(0,t.jsxs)("div",{className:"p-8 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"mx-auto relative",children:(0,t.jsxs)("div",{className:"w-20 h-20 bg-gradient-to-br from-[#ff8d13] to-[#ff8d13] rounded-2xl flex items-center justify-center shadow-lg shadow-[#ff8d13]/50 relative",children:[(0,t.jsx)(l.Building2,{className:"w-10 h-10 text-white"}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-full flex items-center justify-center shadow-lg",children:(0,t.jsx)(f.Sparkles,{className:"w-3 h-3 text-white"})})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-[#ff8d13] via-[#ff8d13] to-amber-600 bg-clip-text text-transparent mb-2",children:"RH Management"}),(0,t.jsxs)("p",{className:"text-muted-foreground flex items-center justify-center gap-2",children:[(0,t.jsx)(u.ShieldCheck,{className:"w-4 h-4"}),"Syst√®me de gestion des employ√©s et badges"]})]})]}),(0,t.jsxs)("form",{onSubmit:P,className:"space-y-5",children:[j&&(0,t.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-sm text-red-700",children:[(0,t.jsx)("span",{className:"font-bold text-lg",children:"‚ö†"}),(0,t.jsx)("span",{className:"font-medium",children:j})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"email",className:"text-sm font-bold text-gray-600 group-focus-within:text-[#ff8d13] transition-all duration-300",children:"Adresse Email"}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none z-10 select-none",children:(0,t.jsx)(d.Mail,{className:"h-5 w-5 text-gray-400 group-focus-within:text-white transition-all duration-300"})}),(0,t.jsx)(o.Input,{id:"email",type:"email",placeholder:"votre.email@entreprise.com",value:y,onChange:e=>{v(e.target.value),I("")},className:"pl-10 h-14 border-3 border-gray-300 bg-gray-50 text-gray-900 hover:bg-white hover:border-gray-400 focus:border-[#ff8d13] focus:border-[4px] focus:ring-8 focus:ring-[#ff8d13]/30 focus:bg-gradient-to-r focus:from-[#fff5ed] focus:to-white focus:text-gray-900 focus:font-medium focus:scale-[1.02] transition-all duration-300 rounded-xl shadow-sm focus:shadow-2xl focus:shadow-[#ff8d13]/20",required:!0,autoComplete:"email"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.Label,{htmlFor:"password",className:"text-sm font-bold text-gray-600 group-focus-within:text-[#ff8d13] transition-all duration-300",children:"Mot de passe"}),(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none z-10 select-none",children:(0,t.jsx)(c.Lock,{className:"h-5 w-5 text-gray-400 group-focus-within:text-white transition-all duration-300"})}),(0,t.jsx)(o.Input,{id:"password",type:T?"text":"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",value:w,onChange:e=>{S(e.target.value),I("")},className:"pl-10 pr-12 h-14 border-3 border-gray-300 bg-gray-50 text-gray-900 hover:bg-white hover:border-gray-400 focus:border-[#ff8d13] focus:border-[4px] focus:ring-8 focus:ring-[#ff8d13]/30 focus:bg-gradient-to-r focus:from-[#fff5ed] focus:to-white focus:text-gray-900 focus:font-medium focus:scale-[1.02] transition-all duration-300 rounded-xl shadow-sm focus:shadow-2xl focus:shadow-[#ff8d13]/20",required:!0,autoComplete:"current-password"}),(0,t.jsx)("button",{type:"button",onClick:()=>A(!T),className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-400 hover:text-[#ff8d13] hover:scale-125 active:scale-100 transition-all duration-200 z-20 select-none","aria-label":T?"Masquer le mot de passe":"Afficher le mot de passe",children:T?(0,t.jsx)(m.EyeOff,{className:"h-5 w-5"}):(0,t.jsx)(h.Eye,{className:"h-5 w-5"})})]})]}),(0,t.jsx)("div",{className:"flex items-center text-sm",children:(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 rounded border-gray-300 text-[#ff8d13] focus:ring-[#ff8d13]"}),(0,t.jsx)("span",{className:"text-gray-600",children:"Se souvenir de moi"})]})}),(0,t.jsx)(a.Button,{type:"submit",disabled:E,className:"w-full h-12 text-base font-semibold bg-gradient-to-r from-[#ff8d13] to-[#ff8d13] hover:from-[#e67d0f] hover:to-[#ff8d13] shadow-lg shadow-[#ff8d13]/30 hover:shadow-xl hover:shadow-[#ff8d13]/40 transition-all duration-300 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Connexion...":"Se connecter"})]}),(0,t.jsx)("div",{className:"text-center text-sm text-gray-500 pt-4 border-t",children:(0,t.jsx)("p",{children:"Syst√®me s√©curis√© de gestion RH"})})]})})]}):null}}]);